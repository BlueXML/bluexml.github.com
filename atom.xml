<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Blue Team's Blog</title>
 <link href="http://www.bluexml.com/blogs/" rel="self"/>
 <link href="http://www.bluexml.com/blogs"/>
 <updated>2014-08-29T17:57:48+02:00</updated>
 <id>http://www.bluexml.com/blogs</id>
 <author>
   <name>Jean-Christophe KERMAGORET</name>
   <email>jc@kermagoret.net</email>
 </author>

 
 <entry>
   <title>Local Read The Docs Installation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/05/14/Read-the-docs"/>
   <updated>2014-05-14T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/05/14/Read-the-docs</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I want to migrate RTD from sqlite to postgres.&lt;/p&gt;

&lt;p&gt;To do so, I first need to find the settings file. Unfortunately, I'm a Django newbie :-)&lt;/p&gt;

&lt;h1&gt;Settings&lt;/h1&gt;

&lt;p&gt;To start, read Chapter 12 of the Django Book. It's all about deployment.&lt;/p&gt;

&lt;p&gt;In checkouts/readthedocs, have a look at manage.py :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python
import os
import sys

if __name__ == &quot;__main__&quot;:
    os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;settings.sqlite&quot;)
    sys.path.append('readthedocs')

    from django.core.management import execute_from_command_line

    execute_from_command_line(sys.argv)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you can see:
* DJANGO_SETTINGS_MODULE=settings.sqlite&lt;/p&gt;

&lt;p&gt;which means settings are filled from the settings/sqlite.py file.&lt;/p&gt;

&lt;p&gt;To migrate in production, we just need to replace it with &quot;settings&quot;. The settings/&lt;strong&gt;init&lt;/strong&gt;.py file will then be used instead.&lt;/p&gt;

&lt;h1&gt;Migrations&lt;/h1&gt;

&lt;p&gt;Before using production settings, dump the sqlite database:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;python manage.py dumpdata --indent=4 &gt; sqlite.json&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See [Django migration tips] before continuing...&lt;/p&gt;

&lt;p&gt;Set production settings, then:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;python manage.py syncdb&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Problems&lt;/h1&gt;

&lt;h2&gt;Module settings not found&lt;/h2&gt;

&lt;p&gt;sys.path.insert(0, '/opt/src/rtd/checkouts/readthedocs.org/readthedocs')&lt;/p&gt;

&lt;h2&gt;Module djangodocs not found&lt;/h2&gt;

&lt;p&gt;It is in fact stored into read-the-docs example, beside rst files&lt;/p&gt;

&lt;h2&gt;Can't sign&lt;/h2&gt;

&lt;p&gt;http://stackoverflow.com/questions/4808105/cant-sign-in-to-django-admin&lt;/p&gt;

&lt;p&gt;Finally, because it is required to set:
* SESSION_COOKIE_DOMAIN = None&lt;/p&gt;

&lt;h2&gt;DEBUG = False&lt;/h2&gt;

&lt;p&gt;When DEBUG = True, everything is OK but messages are too informative for usual people.&lt;/p&gt;

&lt;h1&gt;Test&lt;/h1&gt;

&lt;p&gt;cd /opt/src/rtd
source bin/activate
cd checkouts/readthedocs.org/user_builds&lt;/p&gt;

&lt;p&gt;sphinx-build  -E  -b readthedocs -D language=en_build/html /opt/src/rtd/checkouts/readthedocs.org/user_builds/side-for-alfresco/checkouts/latest/side-for-alfresco/src/rst side-for-alfresco/rtd-builds/latest&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/5739880/django-update-database-schema-without-losing-data&quot;&gt;Django migration tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;http://stackoverflow.com/questions/11476210/getting-site-matching-query-does-not-exist-error-after-creating-django-admin&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>RO System</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/25/RO-system"/>
   <updated>2014-04-25T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/25/RO-system</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h2&gt;/etc&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;adjtime&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;/var&lt;/h2&gt;

&lt;h2&gt;/var/local&lt;/h2&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://wiki.debian.org/ReadonlyRoot&quot;&gt;RO Root on Debian&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Orbit Open Ad Server Installation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/23/orbit-open-ad-server"/>
   <updated>2014-04-23T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/23/orbit-open-ad-server</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;This software may be downloaded on [OrbitScripts].&lt;/p&gt;

&lt;h1&gt;Installation&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Read readme.txt in the main installation directory.&lt;/li&gt;
&lt;li&gt;Install PDO sqlite, SimpleXML...&lt;/li&gt;
&lt;li&gt;If you use a recent php installation (for example php 5.3 or 5.4), you may encounter the following warnings:

&lt;ul&gt;
&lt;li&gt;disable disable_functions&lt;/li&gt;
&lt;li&gt;mysql_escape_string =&gt; must be replace by mysql_real_escape_string&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Enable mod_rewrite&lt;/li&gt;
&lt;li&gt;Allow .htaccess&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;disable disable_functions&lt;/h2&gt;

&lt;p&gt;In /etc/php5/apache2/php.ini, find disable_functions and set it to nothing:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;disable_functions =
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;mysql_escape_string&lt;/h2&gt;

&lt;p&gt;Just replace mysql_escape_string with mysql_real_escape_string:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;replace &quot;mysql_escape_string&quot; &quot;mysql_real_escape_string&quot; -- system/database/drivers/mysqli/mysqli_driver.php
replace &quot;mysql_escape_string&quot; &quot;mysql_real_escape_string&quot; -- system/database/drivers/zend/zend_driver.php
replace &quot;mysql_escape_string&quot; &quot;mysql_real_escape_string&quot; -- system/database/drivers/mysql/mysql_driver.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Other warnings may be ignored&lt;/p&gt;

&lt;h2&gt;enable mod_rewrite&lt;/h2&gt;

&lt;p&gt;a2enmod rewrite&lt;/p&gt;

&lt;h2&gt;enable .htaccess&lt;/h2&gt;

&lt;p&gt;If you have an error about file that doesn't exist when trying to access http://.../openadserver/, it simply means the .htaccess doesn't work. To fix this problem, in /etc/apache2/sites-enabled/000-default, just add AllowOverride All to the main Directory entry:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;Directory /var/www/&amp;gt;
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
&amp;lt;/Directory&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;just reload apache2 configuration with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;service apache2 reload
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://orbitscripts.com/&quot;&gt;OrbitScripts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Read The Docs Installation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/03/read-the-docs"/>
   <updated>2014-04-03T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/03/read-the-docs</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Gitorious Installation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/03/gitorious"/>
   <updated>2014-04-03T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/04/03/gitorious</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Exploitation [exploitation]
Problem of resources not [precompiled]
Taking over ownership of Projects and Repositories as Administrator [ownership]
Memory Allocation Error [ENOMEM]&lt;/p&gt;

&lt;h2&gt;Ownership&lt;/h2&gt;

&lt;p&gt;bin/transfer-ownership&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://getgitorious.com/install-gitorious&quot;&gt;exploitation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://groups.google.com/forum/#!topic/gitorious/2Uwlnq5MKYw&quot;&gt;precompiled&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[installation] http://famousphil.com/blog/2011/06/installing-gitorious-on-centos-5-6-x64/&lt;/li&gt;
&lt;li&gt;[ownership] https://groups.google.com/forum/#!topic/gitorious/gxlhm1qQ1fE&lt;/li&gt;
&lt;li&gt;[ENOMEM] https://groups.google.com/forum/#!topic/capistrano/WDAPMl6A1Z4&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Suspend Processes for Quick Restarts</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/suspend-system"/>
   <updated>2014-02-03T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/suspend-system</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;In a multi-host environment, I want to suspend system execution so I can save resources while not used and restart quickly as soon as user comes back.&lt;/p&gt;

&lt;p&gt;Before describing the problem, here is a short comparison beetween OepnVZ and KVM:
* http://wiki.buyvm.net/doku.php/openvz_vs_kvm&lt;/p&gt;

&lt;h1&gt;The problem&lt;/h1&gt;

&lt;p&gt;In such an environment, saving resources is really very important. It's the only way to serve 100s of organizations with minimal hardware and lower down the hosting price.&lt;/p&gt;

&lt;p&gt;There are various ways to do it:
* at the user space level: while running, just suspend process execution
* at the system level: just make a snapshot&lt;/p&gt;

&lt;p&gt;We, of course, start from the hypothesis that suspending the system is cheaper than stopping/starting it, which must be verified.&lt;/p&gt;

&lt;h1&gt;The solutions&lt;/h1&gt;

&lt;h2&gt;User level&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/power/swsusp.txt?id=HEAD&quot;&gt;swsusp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/power/userland-swsusp.txt?id=HEAD&quot;&gt;swsusp/user land&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;System level&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://openvz.org/Ploop&quot;&gt;OpenVZ/Ploop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://openvz.org/Ploop/Getting_started&quot;&gt;OpenVZ/Ploop Getting Started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://openvz.livejournal.com/44508.html&quot;&gt;OpenVZ/Ploop snapshots and backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://openvz.org/Ploop/backup&quot;&gt;OpenVZ/Ploop backup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://forum.proxmox.com/threads/13079-Snapshots-with-OpenVz&quot;&gt;OpenVZ/Snapshots with OpenVz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://forum.openvz.org/index.php?t=msg&amp;amp;goto=49923&amp;amp;&quot;&gt;OpenVZ/Ploop migration script&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pve.proxmox.com/wiki/Backup_and_Restore&quot;&gt;Backup_and_Restore&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/power/swsusp.txt?id=HEAD&quot;&gt;swsusp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/power/userland-swsusp.txt?id=HEAD&quot;&gt;swsusp/user land&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://forum.proxmox.com/threads/13079-Snapshots-with-OpenVz&quot;&gt;Snapshots with OpenVz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pve.proxmox.com/wiki/Backup_and_Restore&quot;&gt;Backup_and_Restore&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>High Availability (HA) Alfresco</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/HA-Alfresco"/>
   <updated>2014-02-03T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/HA-Alfresco</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.abstractive.ca/2012/07/implementing-a-complete-high-availability-alfresco-solution-using-open-source-technologies/&quot;&gt;HA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Alfresco performances</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/Alfresco+performances"/>
   <updated>2014-02-03T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/03/Alfresco performances</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Starting Alfresco is slow, which prevents stopping/restarting it at will.&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/2333089/alfresco-community-on-tomcat-starts-very-slow&quot;&gt;Tomcat starts very slow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://psi-probe.googlecode.com/&quot;&gt;PSI Probe&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>HTML5 Remote Client</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/02/html5-remote-client"/>
   <updated>2014-02-02T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/02/html5-remote-client</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I want to access applications through a browser which basically means through a HTML5 and javascript client.&lt;/p&gt;

&lt;h1&gt;The solution&lt;/h1&gt;

&lt;p&gt;There are 2 types of solutions:
* remote client applications access
* remote server access&lt;/p&gt;

&lt;h2&gt;Remote client applications access&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://bitbucket.org/MarkusKramer/fernapp/wiki/setup&quot;&gt;FernApp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Remote server access&lt;/h2&gt;

&lt;p&gt;There are various such implementations around:
* &lt;a href=&quot;https://github.com/kanaka/noVNC&quot;&gt;noVNC&lt;/a&gt;
* &lt;a href=&quot;http://guac-dev.org/&quot;&gt;Guacamole&lt;/a&gt;
* &lt;a href=&quot;http://liftoffsoftware.com/Products/GateOne&quot;&gt;GateOne&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please note [GateOne] is neither free, nor open source, in constrast with [noVNC] and [Guacamole].&lt;/p&gt;

&lt;h1&gt;noVNC&lt;/h1&gt;

&lt;p&gt;Just type your username + enter + yourpasswd + enter and that's it!&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://liftoffsoftware.com/Products/GateOne&quot;&gt;GateOne&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;http://bluexml.orbitopenadserver.com/admin/color_palettes&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ad Server</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/02/ad-server"/>
   <updated>2014-02-02T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/02/02/ad-server</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I want to manage advertising. Are there any open solutions, or just proprietary ones?&lt;/p&gt;

&lt;h1&gt;The solution&lt;/h1&gt;

&lt;p&gt;There is only one open source version, based on dual licensing:
* [OrbitOpenAdServer]&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://bluexml.orbitopenadserver.com/admin/&quot;&gt;OrbitOpenAdServer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Ascii Art</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/01/28/Ascii-art"/>
   <updated>2014-01-28T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2014/01/28/Ascii-art</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I want to create ascii art table from writer or spreadsheet table. I only found one really usable solution called [Senseful Solutions].&lt;/p&gt;

&lt;p&gt;Another great solution, to draw ascii diagrams, is [Ascii flow].&lt;/p&gt;

&lt;h1&gt;The problem&lt;/h1&gt;

&lt;p&gt;Writing ascii table is very boring.&lt;/p&gt;

&lt;p&gt;Senseful Solutions to the rescue.&lt;/p&gt;

&lt;h1&gt;The solution&lt;/h1&gt;

&lt;p&gt;Senseful Solutions is a web service. Just copy'n paste your table content from writer or spreadsheet to the input box and format it.&lt;/p&gt;

&lt;p&gt;Sometimes, the copy'n paste from writer to Senseful is bad. In this case, copy'n paste to a spreadsheet, then copy'n pas from the spreadsheet to the Senseful web service.&lt;/p&gt;

&lt;p&gt;In a matter of milliseconds, you have an awesome ascii table.&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sensefulsolutions.com/2010/10/format-text-as-table.html&quot;&gt;Senseful Solutions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/lewish/asciiflow&quot;&gt;Ascii flow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Unionfs-fuse</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/16/Unionfs-fuse"/>
   <updated>2013-12-16T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/16/Unionfs-fuse</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I want to store content in various directories and have a unified view of them. Unionfs has been developed to achieve this need.&lt;/p&gt;

&lt;h1&gt;The problem&lt;/h1&gt;

&lt;p&gt;I work on ECM applications based on Alfresco. Custom developments are based on libs stored in WEB-INF. They are mixed with Alfresco ones which make difficult to know who did what. I can prefix them with a specific name so I will recognize them, but it is not a very convenient solution.&lt;/p&gt;

&lt;p&gt;Unionfs-fuse to the rescue.&lt;/p&gt;

&lt;h1&gt;The solution&lt;/h1&gt;

&lt;p&gt;Unionfs-fuse concatenates content from various directories into one. For example, imagine I have the following directories :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;lib-base : contains the alfresco libraries provided by the installation&lt;/li&gt;
&lt;li&gt;lib-ext : contains the alfresco libraries provided by my custom development&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Unionfs-fuse allows to have directory (lib for example) which will be the union of the other ones. Just type the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;unionfs-fuse lib-base=RO:lib-ext=RO lib
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;Download&lt;/h2&gt;

&lt;p&gt;Get it on github with the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/jonnyyu/unionfs-fuse‎
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;Compilation&lt;/h2&gt;

&lt;p&gt;Go into the directory and type:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;make
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You may have 2 errors which are very easy to fix:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;AT_SYMLINK_NOFOLLOW&lt;/li&gt;
&lt;li&gt;malloc.h&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;On OpenVZ, create the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;vzctl set CTID --devnodes fuse:rw --save&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Bug AT_SYMLINK_NOFOLLOW&lt;/h3&gt;

&lt;p&gt;This bug requires you apply this [patch][Bug AT_SYMLINK_NOFOLLOW]. I always had difficulties with patch, so I prefer to apply it manually. Fortunately, the file is pretty simple.&lt;/p&gt;

&lt;h3&gt;Bug malloc.h&lt;/h3&gt;

&lt;p&gt;As indicated [here][Bug malloc.h]:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Actually, you shouldn't need malloc.h at all, it's obsolete; including stdlib.h should take care of what malloc.h used to handle. Basically, just remove it, or #if it out
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;Finalization&lt;/h3&gt;

&lt;p&gt;Just type make again and that's it!&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jonnyyu/unionfs-fuse%E2%80%8E&quot;&gt;unionfs-fuse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.breadncup.com/files/fuse/0001-Patches-for-Mac-OS-X-Mountain-Lion-for-unionfs-fuse-0.26.patch&quot;&gt;Bug AT_SYMLINK_NOFOLLOW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hintsforums.macworld.com/showthread.php?t=2023&quot;&gt;Bug malloc.h&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Restore window bug with Open/Libre Office</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/13/Restore-windows-bug-with-OOo-LO"/>
   <updated>2013-12-13T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/13/Restore-windows-bug-with-OOo-LO</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;&quot;The last time you opened LibreOffice, it unexpectedly quit while reopening windows. Do you want to try to reopen its windows again?&lt;/p&gt;

&lt;p&gt;If you choose not to reopen windows, you may have to open and position the windows yourself&lt;/p&gt;

&lt;p&gt;This box won't go away by repeatably clicking either buttons, nor it have a way to skip this (though I can create/open documents). Even under File menu, the item &quot;Quit LibreOffice&quot; is always dimmed - the only way to get rid of this is to open terminal and do a 'kill -9'&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;http://ask.libreoffice.org/en/question/6752/libreoffice-startup-always-asking-reopen-windows/&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Open Finder&lt;/li&gt;
&lt;li&gt;Option-click the Go menu&lt;/li&gt;
&lt;li&gt;Choose Library from the menu to open the folder in the Finder or enter (~/Library)&lt;/li&gt;
&lt;li&gt;Click on the folder Saved Application State&lt;/li&gt;
&lt;li&gt;Delete the file &quot;org.libreoffice.script.savedState&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That's it !-)&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://ask.libreoffice.org/en/question/6752/libreoffice-startup-always-asking-reopen-windows/&quot;&gt;Open/Reopen bug&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Importer des données en masse dans Alfresco à l'aide de bulk import</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/12/Alfresco_share_modules_dynamic_reloading"/>
   <updated>2013-12-12T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/12/Alfresco_share_modules_dynamic_reloading</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;h1&gt;Implémentation&lt;/h1&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;p&gt;BluePrint:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.spring.io/osgi/docs/2.0.0.M1/reference/html/blueprint.html&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;JRebel :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://wiki.alfresco.com/wiki/Using_JRebel_for_Speedy_Alfresco_Development&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zaizi.com/blog/boost-your-alfresco-development-jrebel&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://tpeelen.wordpress.com/2012/06/10/alfresco-development-using-jrebel-less-restarting-more-focus/&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://manuals.zeroturnaround.com/jrebel/standalone/config.html&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://zeroturnaround.com/software/jrebel/download/installing-jrebel-plugin-for-eclipse/&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cherryshoe.blogspot.fr/2012/11/save-time-integrating-jrebel.html&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Alternatives:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.contentreich.de/java-class-reloading-pain-a-fresh-open-source-jrebel-alternative&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Importer des données en masse dans Alfresco à l'aide de bulk import</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/03/Import-data-into-Alfresco-with-bulk-import"/>
   <updated>2013-12-03T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/12/03/Import-data-into-Alfresco-with-bulk-import</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Importer les données en masse est un travail risqué et laborieux. Au-delà de l'import, il faut en effet vérifier que toutes les données ont été effectivement importées. Si ce n'est pas le cas, il faut déterminer les données non importées pour ne réimporter que celles-ci du fait des contenus très volumineux qu'on peut être amenés à traiter (plusieurs centaines de Go, voire plusieurs To).&lt;/p&gt;

&lt;p&gt;Cet article décrit l'approche suivie par BlueXML pour importer les données dans un repository Alfresco Community ou Enterprise.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;La solution repose sur l'utilisation du module &lt;a href=&quot;https://code.google.com/p/alfresco-bulk-filesystem-import/&quot;&gt;bulk import&lt;/a&gt;. Ce module permet d'importer les contenus et les méta-données associées si nécessaires.&lt;/p&gt;

&lt;p&gt;Dans la version Alfresco Enterprise, le module bulk import a été repris par Alfresco et propose une fonctionnalité d'import &quot;in place&quot; qui évite de recopier les fichiers. Celle-ci n'est pas présente dans la version Alfresco Community et les contenus sont alors importées dans Alfresco.&lt;/p&gt;

&lt;h1&gt;Implémentation&lt;/h1&gt;

&lt;p&gt;L'import se fait à l'aide des étapes suivantes :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;import des données avec bulk_import&lt;/li&gt;
&lt;li&gt;&lt;p&gt;vérification :&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;calcul d'un find sur les données source&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;calcul d'un find sur les données dans Alfresco, via l'API Alfresco&lt;/li&gt;
&lt;li&gt;&lt;p&gt;calcul du delta entre les find&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;copie via CIFS des contenus non importés la première fois&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;vérification et copie&lt;/li&gt;
&lt;li&gt;copie des derniers fichiers à la main si pas trop nombreux&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;La difficulté de cette implémentation est le mécanisme de calcul du find côté Alfresco car celui-ci est limité par défaut à 100000 vérifications de droits, ce qui posera problème si vous importes plus de 100000 fichiers.&lt;/p&gt;

&lt;p&gt;Il faut obligatoirement mettre en place un tél mécanisme de vérification et de contrôle car Alfresco n'importe pas toutes les données, et refuse même d'en importer certains quel que soit le nombre de tentatives. Le contournement le plus simple est donc de copier les contenus récalitrants via CIFS à l'aide d'un rsync.&lt;/p&gt;

&lt;h2&gt;Import des données via bulk import&lt;/h2&gt;

&lt;p&gt;Le système de bulk import propose un service web pour importer les données. Après avoir indiqué quelques paramètres, il suffit de l'appeler. Pour être totalement indépendant de la connexion au serveur qui peut dans certains cas interrompre l'import, je vous suggère d'utiliser le &lt;a href=&quot;https://gist.github.com/jckermagoret/7769719&quot;&gt;script&lt;/a&gt; suivant :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/sh

#
# LICENSE
# @copyright BlueDolmen 2013
# License Affero GPL
# Use at your own risks
#

#
# Imports content in Alfresco from filesystem through the use of bulk import system
#

LOGIN=&quot;admin&quot;
PASSWD=&quot;admin&quot;
HOST=&quot;localhost:8080&quot;

getTicket () {
        curl -v &quot;http://$HOST/alfresco/service/api/login?u=$LOGIN&amp;amp;pw=$PASSWD&quot;
};

importContent () {
  TICKET=&quot;TICKET_88e8978b4973801cd309ff8440fbdee49302b130&quot;

  PARAMS=&quot;alf_ticket=$TICKET&quot;
  PARAMS=&quot;$PARAMS&amp;amp;sourceDirectory=/data/repository/initial&quot;
  PARAMS=&quot;$PARAMS&amp;amp;contentStore=default&quot;
  PARAMS=&quot;$PARAMS&amp;amp;targetPath=/Company%20Home/Sites/test/documentLibrary&quot;
  PARAMS=&quot;$PARAMS&amp;amp;replaceExisting=false&quot;
  PARAMS=&quot;$PARAMS&amp;amp;batchSize=10&quot;
  PARAMS=&quot;$PARAMS&amp;amp;numThreads=10&quot;

  #
  # Use only if using for an Alfresco Enterprise
  # -X POST &quot;http://$HOST/alfresco/service/bulkfsimport/inplace/initiate?$PARAMS&quot; \n

  echo curl -v
  echo         -X POST &quot;http://$HOST/alfresco/service/bulkfsimport/initiate?$PARAMS&quot;
  echo         -H &quot;Content-type: text/html;charset=UTF-8&quot;
  echo

  curl -v \
          -X POST &quot;http://$HOST/alfresco/service/bulkfsimport/initiate?$PARAMS&quot; \
          -H &quot;Content-type: text/html;charset=UTF-8&quot;
}

$*
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;Vérification&lt;/h2&gt;

&lt;p&gt;Il s'agit de construire 2 fichiers contenant le path absolu de chaque fichier contenu dans l'arborescence source et cible.&lt;/p&gt;

&lt;h3&gt;Arborescence source&lt;/h3&gt;

&lt;p&gt;Pour l'arborescence source, un simple find suffit à obtenir cette liste :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;find /data/repository/initial &amp;gt; find-initial.txt
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;Arborescence cible&lt;/h3&gt;

&lt;p&gt;Pour l'arborescence cible, il faut écrire un script qui construit cette liste :&lt;/p&gt;

&lt;h3&gt;Comparaison des fichiers 'source' et 'cible'&lt;/h3&gt;

&lt;p&gt;On obtient finalement 2 fichiers qu'il faut comparer après les avoir nettoyés afin de n'obtenir que les fichiers réellement différents.&lt;/p&gt;

&lt;h2&gt;Copie des fichiers récalcitrants&lt;/h2&gt;

&lt;p&gt;Le delta calculé précédemment doit être copié dans Alfresco. Pour cela, il suffit de faire un rsync prenant en paramètre la liste des fichiers à copier :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rsync -avP --files-from diff.txt /mnt/alfresco/Company%20Home/tmp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;tmp étant un répertoire créé dans l'entrepôt Alfresco.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;Finalement, toutes les données sont copiées&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://support.apple.com/kb/ht3939&quot;&gt;Identifier son iPhone&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Désimlocker un iPhone 2G</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/23/Desimlocker-un-iphone-3g"/>
   <updated>2013-11-23T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/23/Desimlocker-un-iphone-3g</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;J'ai un vieil iPhone de première génération. Evidemment, je n'ai pas la facture et n'ai pas pensé à le faire désimlocker à l'époque (2007) :-(
Du coup, pas d'autres choix qu'un désimlockage sauvage...&lt;/p&gt;

&lt;h1&gt;Vocabulaire&lt;/h1&gt;

&lt;h2&gt;Jailbreak et/ou Unlock ?&lt;/h2&gt;

&lt;p&gt;Le jailbreak, c'est donner la possibilité à votre iphone de ne plus être limité aux applications de l'appstore. L'avantage est que vous pouvez par la suite utiliser d'autres sources d'applications, comme Cydia, qui vous permettront de désimlocker votre appareil. L'inconvénient, et il est de taille, est que vous n'avez justement plus accès à toutes ces nombreuses applications, toutes plus intéressantes les unes que les autres (DoodleJump, Candy Crush, 92s, Runtastic, Scrabble, Bridge...), qui en font l'intérêt.&lt;/p&gt;

&lt;p&gt;L'unlock ou désimlockage, c'est débloquer l'appareil pour avoir la possibilité de se connecter à n'importe quel opérateur téléphonique, ceux-ci ayant la fâcheuse habitude de bloquer les appareils sur leur système afin de rendre la clientèle plus captive et plus docile.&lt;/p&gt;

&lt;p&gt;L'idéal est donc de désimlocker sans jailbreaker votre iPhone. Pour les iPhone 2G il semble qu'il faille utiliser yellowsnOw et non ultrasnOw plutôt utilisé pour les iPhone 3G.&lt;/p&gt;

&lt;h2&gt;redsnOw ? ultrasnOw ? yellowsnOw ? iClarified ?&lt;/h2&gt;

&lt;p&gt;Maintenant que nous savons ce que nous voulons, essayons d'y voir plus clair :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;redsnOw : jailbreak&lt;/li&gt;
&lt;li&gt;ultrasnOw : unlock sur appareil jailbreaké&lt;/li&gt;
&lt;li&gt;yellowsnOw : unlock sans jailbreak&lt;/li&gt;
&lt;li&gt;iClarified : site référençant des liens de téléchargement pour toutes ces ressources + de nombreux tutoriaux&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Il semble que les iPhone récents (à partir de 3 ? 4 ?) doivent  systématiquement être jailbreakés pour être désimlockés.&lt;/p&gt;

&lt;h1&gt;Désimlockage&lt;/h1&gt;

&lt;p&gt;J'ai exécuté ces étapes plusieurs fois mais faites attention !!! Vous risquez d'endommager votre iPhone et, bien sûr, vous n'aurez plus de garanties (mais qui en a pour un iphone de 2007 ?). Bref, vous entreprenez ces actes sous votre responsabilité et à vos propres risques.&lt;/p&gt;

&lt;p&gt;Peut-être n'êtes-vous intéressé que par le désimlockage ? Malheureusement, je suis d'abord passé par un jailbreak et ne peux confirmer que le désimlockage peut fonctionner sans jailbreak : pas le courage de recommencer :-)&lt;/p&gt;

&lt;h2&gt;Téléchargement des logiciels&lt;/h2&gt;

&lt;p&gt;Ceci étant dit, exécutez les étapes suivantes :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Téléchargez les logiciels requis :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;(http://www.mediafire.com/download/q8ksi1g8gqghl6z/redsn0w-mac_0.9.4.zip&quot;&gt;redsn0w 0.9.4&lt;/a&gt;. Attention, utiliser une autre version n'a pas marché pour mon appareil ;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://iphonehelp.in/ipfiles/BL-39.bin&quot;&gt;Boot Loader 3.9&lt;/a&gt; ;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://iphonehelp.in/ipfiles/BL-46.bin&quot;&gt;Boot Loader 4.6&lt;/a&gt; ;&lt;/li&gt;
&lt;li&gt;3.1.3 (2G): &lt;a href=&quot;http://appldnld.apple.com.edgesuite.net/content.info.apple.com/iPhone/061-7481.20100202.4orot/iPhone1,1_3.1.3_7E18_Restore.ipsw&quot;&gt;iPhone1,1_3.1.3_7E18_Restore.ipsw&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Action !&lt;/h2&gt;

&lt;p&gt;Pour le désimlockage en lui-même, je vous invite à lire un tutorial très clair sur ce site, contenant de nombreuses captures d'écran, sur iClarified à partir de l'étape 3.&lt;/p&gt;

&lt;p&gt;Pour le redémarrage de votre iPhone après la mise à jour du logiciel, il faut appuyer longuement (très longuement : au - 30 secondes).&lt;/p&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://support.apple.com/kb/ht3939&quot;&gt;Identifier son iPhone&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sinfuliphone.com/showthread.php?t=10001882&quot;&gt;Old redsnOw versions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://iphonehelp.in/2009/05/17/download-iphone-bootloader-v39-46-bin/&quot;&gt;Boot loaders 3.9 et 4.6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.iphone-dev.org/&quot;&gt;iPhone-dev&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://answers.yahoo.com/question/index?qid=20090712020653AAQK2xQ&quot;&gt;Unlock Without Jailbreaking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iphonehacks.com/2008/03/iphone-iliberty.html&quot;&gt;iLiberty&lt;/a&gt;. Non vérifié : certains disent qu'on peut désimlocker sans jailbreaker avec ce logiciel.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.electronmedia.in/wp/fixing-usb-communication-error-while-unlockingjailbreaking-your-iphone/&quot;&gt;Fixing USB problem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iclarified.com/entry/index.php?enid=16424&quot;&gt;Numerous redsnOw versions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Quel méta-moteur de recherche pour votre organisation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/19/Configurer-un-meta-moteur-de-recherche"/>
   <updated>2013-11-19T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/19/Configurer-un-meta-moteur-de-recherche</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h1&gt;Vidéos&lt;/h1&gt;

&lt;h1&gt;Ressources&lt;/h1&gt;

&lt;p&gt;Polyspot&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://www.polyspot.com&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sinequa&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://www.sinequa.com&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Google Search Appliance&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;https://www.captechconsulting.com/blog/ron-difrango/alfresco-integration-gsa&lt;/li&gt;
&lt;li&gt;http://www.google.com/enterprise/gep/overview.html&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Exalead&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://www.exalead.com&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Write a documentation in markdown</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/15/Rediger-une-documentation-unique-avec-markdown"/>
   <updated>2013-11-15T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/15/Rediger-une-documentation-unique-avec-markdown</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;h1&gt;Vidéo&lt;/h1&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://ooopy.sourceforge.net/&quot;&gt;Concatenate ODF files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/schmurfy/3199254&quot;&gt;Update your MacText installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jopendocument.org/start_text_1.html&quot;&gt;How to concatenate 2 ODF files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/dagwieers/asciidoc-odf&quot;&gt;convert asciidoc format to numerous ouput format such as docbook, odf, pdf, ...&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>SMB (or CIFS) over SSH</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/10/SMB-CIFS_over_SSH"/>
   <updated>2013-11-10T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/10/SMB-CIFS_over_SSH</id>
   <content type="html">&lt;h1&gt;The goal&lt;/h1&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;h2&gt;Description&lt;/h2&gt;

&lt;p&gt;http://www.petri.co.il/whats_port_445_in_w2k_xp_2003.htm#&lt;/p&gt;

&lt;h2&gt;Solutions&lt;/h2&gt;

&lt;p&gt;http://www.minek.com/?port_redirection
http://www.nikhef.nl/~janjust/CifsOverSSH/Win7Loopback.html#MountHome
http://www.blisstonia.com/eolson/notes/smboverssh.php&lt;/p&gt;

&lt;h2&gt;Summary&lt;/h2&gt;

&lt;p&gt;http://sumofungus.wordpress.com/2010/07/23/ssh-tunneling-samba-on-windows-7/&lt;/p&gt;

&lt;h2&gt;Questions&lt;/h2&gt;

&lt;p&gt;http://serverfault.com/questions/356369/smb-proxy-connect-to-smb-server-through-ssh-tunnel-between-two-other-hosts
http://superuser.com/questions/270678/ports-for-nated-windows-share
http://forums.alfresco.com/forum/installation-upgrades-configuration-integration/configuration/cifs-server-subsystem-community&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>What is cross navigation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/08/What_is_cross_navigation"/>
   <updated>2013-11-08T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/08/What_is_cross_navigation</id>
   <content type="html">&lt;h1&gt;The goal&lt;/h1&gt;

&lt;h1&gt;Resources&lt;/h1&gt;
</content>
 </entry>
 
 <entry>
   <title>Implementation of a cross navigation technique in Alfresco</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/07/How_to_enhance_your_Alfresco_repository-Implementation"/>
   <updated>2013-11-07T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/11/07/How_to_enhance_your_Alfresco_repository-Implementation</id>
   <content type="html">&lt;h1&gt;The goal&lt;/h1&gt;

&lt;p&gt;We're going to implement the &lt;a href=&quot;/2013/10/23/&quot;&gt;solution based on paths and content's name analysis&lt;/a&gt;. To achieve such a goal on Alfresco, we need the following things:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a process to extract categories&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a script to assign extracted categories on&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a category browser to cross navigate the entire repository, able to cumulate criteria, to simulate a kind of facet navigation.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In the example we are going to look at, I started at 4000 categories.&lt;/p&gt;

&lt;h2&gt;Category extraction&lt;/h2&gt;

&lt;p&gt;How to find categories? How to extract them?&lt;/p&gt;

&lt;h3&gt;Finding the categories&lt;/h3&gt;

&lt;p&gt;Let's consider the following directory and file name:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/Sales/France/West/Nantes/ListOfCustomers.xls&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We may deduce from this path name, by splitting it on &quot;/&quot; and capitals that the file &quot;ListOfCustomers.xsl&quot; deals with:
* Sales
* France
* West
* Nantes
* List
* Of
* Customers
* Excel&lt;/p&gt;

&lt;p&gt;By applying this technique on all the files contained into your Alfresco repository, you'll have thousands of categories. Which ones do we want?&lt;/p&gt;

&lt;h3&gt;What categories to keep at the end?&lt;/h3&gt;

&lt;p&gt;I want to cross navigate my Alfresco repository through the categories. So only&lt;/p&gt;

&lt;h3&gt;Categories' assignment&lt;/h3&gt;

&lt;h3&gt;Categories navigation&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecrire un plugin pour Confluence</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/29/Ecrire_un_plugin_pour_Confluence"/>
   <updated>2013-10-29T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/29/Ecrire_un_plugin_pour_Confluence</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Cette page explique comment écrire un plugin pour Atlassian.&lt;/p&gt;

&lt;h1&gt;Configuration de l'environnement&lt;/h1&gt;

&lt;h2&gt;Adaptation de l'IDE&lt;/h2&gt;

&lt;p&gt;L'IDE a été téléchargé et configuré en suivant les instructions sur [cette page][ide-for-linux/mac] sur le site d'Atlassian.&lt;/p&gt;

&lt;p&gt;Pour configurer la jre 1.6.0 sur mon Mac, j'ai ajouté la définition de la 1.6.0 stockée dans le répertoire suivant :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Comme expliqué dans les commentaires, pour installer maven, indiquer le site suivant comme source pour Juno :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://download.eclipse.org/releases/juno&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;En effet, le site indiqué sur JIRA ne contient les références pour un plugin utile à maven et l'installation n'est alors pas possible.&lt;/p&gt;

&lt;h2&gt;Installation du SDK&lt;/h2&gt;

&lt;p&gt;L'installation consiste simplement à le télécharger et l'installer. Une fois installée, vous pouvez alors lancer JIRA en mode développement avec la commande suivante :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;atlas-run-standalone --product jira
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Le système charge alors les modules et exécutables manquants nécessaires. Tomcat est alors démarré, il faut être patient : le premier lancement a mis 744s sur mon MacBook Pro avec 8 Go de RAM.&lt;/p&gt;

&lt;h1&gt;Vidéo&lt;/h1&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;p&gt;[ide for linux/mac] https://developer.atlassian.com/display/DOCS/Set+Up+the+Eclipse+IDE+for+Linux&lt;/p&gt;

&lt;p&gt;[2] https://developer.atlassian.com/display/DOCS/Set+up+the+Atlassian+Plugin+SDK+and+Build+a+Project&lt;/p&gt;

&lt;p&gt;https://developer.atlassian.com/display/CONFDEV/Macro+Module
https://developer.atlassian.com/display/CONFDEV/XWork-WebWork+Module
https://developer.atlassian.com/display/CONFDEV/WoW+Macro+explanation
[3] https://developer.atlassian.com/display/CONFDEV/Write+a+simple+Confluence+Blueprint+plugin&lt;/p&gt;

&lt;p&gt;[4] https://developer.atlassian.com/display/CONFDEV/Writing+Confluence+Plugins&lt;/p&gt;

&lt;p&gt;https://developer.atlassian.com/display/DOCS/Put+the+Final+Polish+on+the+Project+in+Eclipse&lt;/p&gt;

&lt;p&gt;https://developer.atlassian.com/display/DOCS/Plugin+Modules&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Vidéo de JIRA Capture</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/24/Video_JIRA_Capture"/>
   <updated>2013-10-24T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/24/Video_JIRA_Capture</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;JIRA Capture est un outil développé par Atlassian pour faciliter la remontée d'informations par les testeurs et les utilisateurs.&lt;/p&gt;

&lt;p&gt;Cette courte vidéo illustre l'utilisation de JIRA Capture pour faciliter les tests et la saisie de bugs. En effet, vous pouvez faire une copie d'écran de l'application tout en l'intégrant dans JIRA d'un seul clic, sans nécessiter de réaliser un document avec un traitement de texte pour l'y mettre. En outre, cela permet aux développeurs de tout de suite constater le bug sans télécharger le document, ouvrir le traitement de texte, ...&lt;/p&gt;

&lt;h1&gt;Vidéo&lt;/h1&gt;

&lt;div class=&quot;video-container&quot;&gt;&lt;iframe class=&quot;vimeo-iframe&quot; src=&quot;http://player.vimeo.com/video/77685089 &quot; frameborder=&quot;0&quot;&gt;   &lt;/iframe&gt;&lt;/div&gt;


&lt;h1&gt;Resources&lt;/h1&gt;

&lt;p&gt;[JIRA Capture] https://www.atlassian.com/software/jira-capture/overview&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to cross navigate your Alfresco repository and relate things like never before/Implementation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/23/How_to_enhance_your_Alfresco_repository"/>
   <updated>2013-10-23T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/23/How_to_enhance_your_Alfresco_repository</id>
   <content type="html">&lt;h1&gt;The goal&lt;/h1&gt;

&lt;p&gt;I want a system to help me to cross navigate my organization's Alfresco repository.&lt;/p&gt;

&lt;p&gt;Being able to browse categories in Alfresco, I need to enhance my content by adding relevant categories. There are 2 kinds of solutions:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;semantic improvement through content analysis and specific part identification in this content like place, people and organization.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;semantic improvement through paths' and content's name analysis&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;The solution: semantic improvement&lt;/h1&gt;

&lt;p&gt;People don't like to input metadata like categories. We're all lazy and even if people were eager at entering some information, the risk would exist they choose the wrong one.&lt;/p&gt;

&lt;h2&gt;Semantic improvement through content analysis&lt;/h2&gt;

&lt;p&gt;There are at least 2 solutions :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stanbol, an apache project, which you can download and install into your system&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OpenCalais, a private project in the cloud from Reuters, which you can use&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These 2 solutions analyse the content of a document and tag the document when specific information is identified into it and linked with an external database. For example, if a document contains the word &quot;Paris&quot;, this latter will be suggested as a category because there is such an information into external database (dbpedia). The ability to detect places is directly related to the solution and the richness of your external database.&lt;/p&gt;

&lt;p&gt;For example, if your document content contains the word &quot;Marseille&quot;, which is the 2nd french city (for the number of people), Stanbol won't give you any information, which is disappointing enough to prevent people to use such a system.&lt;/p&gt;

&lt;p&gt;More information on this in another post, to write...&lt;/p&gt;

&lt;h2&gt;Semantic improvement through paths' and content's name analysis&lt;/h2&gt;

&lt;p&gt;Another kind of solution consists in analyzing paths and content to extract relevant information. Indeed, while people are reluctant to input metadata, there is one they are used to enter: directory and file names. Moreover, these informations are related to the content.&lt;/p&gt;

&lt;p&gt;By analyzing your repository in such a way, you'll have numerous categories at the end. Just eliminate the ones present once, which means there no added value in cross navigation, and think about the others. Of course, the most used these categories are, the most interesting they are. It's up to you to choose the right analysis level. You may conclude your work with 200 or 300 categories structured into 2 or 3 levels.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;You can then cross navigate on your repository content and relate things like never before.
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;I think this technique provides quickly some added value to your repository.&lt;/p&gt;

&lt;p&gt;Next post will provide an implementation example so you can set up this cross navigation.&lt;/p&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;p&gt;[stanbol] http://stanbol.apache.org
[semantics4alfresco] https://code.google.com/p/semantics4alfresco/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Alfresco Audit Analysis solutions benchmark</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/18/Alfresco_audit_analysis_solutions_benchmark"/>
   <updated>2013-10-18T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/10/18/Alfresco_audit_analysis_solutions_benchmark</id>
   <content type="html">&lt;h1&gt;The goal&lt;/h1&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;p&gt;[auditsurf/github] http://www.atolcd.com/btn-ll/audit-alfresco.html
[auditsurf/overview] https://github.com/atolcd/alfresco-auditsurf&lt;/p&gt;

&lt;p&gt;[aaar/overview] http://fcorti.com/alfresco-audit-analysis-reporting/
[aaar/vm] http://fcorti.com/alfresco-audit-analysis-reporting/aaar-alfresco-audit-analysis-reporting-cloud&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Comment ameliorer votre application grace aux tests utilisateurs faits avec JIRA Capture</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/08/02/Comment_ameliorer_votre_application_grace_aux_tests_utilisateurs_avec_JIRA_Capture"/>
   <updated>2013-08-02T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2013/08/02/Comment_ameliorer_votre_application_grace_aux_tests_utilisateurs_avec_JIRA_Capture</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;JIRA Capture est un outil développé par Atlassian pour faciliter la remontée d'informations par les testeurs et les utilisateurs.&lt;/p&gt;

&lt;h1&gt;Exemple&lt;/h1&gt;

&lt;p&gt;Lorsque vous testez une application, l'idéal est de pouvoir saisir toutes les informations concernant votre test dans le contexte de celui-ci.&lt;/p&gt;

&lt;p&gt;Vous êtes par exemple sur l'application suivante, en l'occurrence un formulaire Alfresco intégré dans une application JS.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/yarma-form.png&quot; width=&quot;800px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Vous remarquez que les libellés sont en anglais au lieu d'être en français. Avec JIRA Capture, il vous suffit de cliquer sur l'icône JIRA en haut à droite de l'URL de votre page en cours.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/JIRA-Capture-1.png&quot; width=&quot;800px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Un nouvel onglet s'ouvre alors avec une capture d'écran de la page où vous étiez précédemment. Vous pouvez annoter cette capture d'écran grâce aux outils de retouche intégrés à JIRA Capture.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/JIRA-Capture-2.png&quot; width=&quot;800px&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Vous pouvez maintenant saisir les informations caractérisant l'erreur constatée lors de votre test. Le formulaire situé à gauche de la capture d'écran précédente vous permet de renseigner toutes les informations nécessaires :
* le projet
* le type de remarque (nouvelle fonctionnalité, bogue, téche, ...)
* le résumé
* la priorité
* le descriptif
* le composant
* ...&lt;/p&gt;

&lt;p&gt;Aprés avoir cliqué sur le bouton &quot;Créer... &quot;, les informations sont ainsi ajoutées dans JIRA comme vous pouvez le constater dans la capture d'écran suivante :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/JIRA-Capture-3.png&quot; width=&quot;800px&quot;/&gt;&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;JIRA Capture facilite la réalisation des tests grâce à cet outil. En effet, le principal obstacle constitué par la réalisation des captures d'écran est levé car la procédure est extrêmement simplifiée.&lt;/p&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;p&gt;[JIRA Capture] https://www.atlassian.com/software/jira-capture/overview&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Génération de la documentation de l'application avec SIDE</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-lchevalier/2012/12/10/application-documentation-generation-with-SIDE"/>
   <updated>2012-12-10T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-lchevalier/2012/12/10/application-documentation-generation-with-SIDE</id>
   <content type="html">&lt;p&gt;Une documentation de chaque modèle de donnée S-IDE peut être générée automatiquement avec S-IDE, pour cela il faut cocher la case &quot;Documentation&quot; de l'onglet génération.&lt;/p&gt;

&lt;h1&gt;Format&lt;/h1&gt;

&lt;p&gt;Le format utilisé est l'&lt;a href=&quot;http://fr.wikipedia.org/wiki/OpenDocument&quot;&gt;Open Document&lt;/a&gt;, notamment utilisé par OpenOffice. Un fichier lisible par Open Office est un fichier jar (nommé en .odt) contenant :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/META-INF/manifest.mf&lt;/li&gt;
&lt;li&gt;/META-INF/manifest.xml&lt;/li&gt;
&lt;li&gt;content.xml&lt;/li&gt;
&lt;li&gt;meta.xml&lt;/li&gt;
&lt;li&gt;mimetype&lt;/li&gt;
&lt;li&gt;settings.xml&lt;/li&gt;
&lt;li&gt;styles.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Génération&lt;/h1&gt;

&lt;p&gt;La génération se fait via un générateur spécifique par méta-modèle (Class, Form, Workflow, View on en déjà un par exemple) utilisant tous une base commune (le projet com.bluexml.side.Util.generator.documentation). Ce dernier permet de générer les fichiers 'fixes' : meta.xml, mimetype, setting.xml, styles.xml. Permettant d'avoir des styles communs. Ce sont des fichiers qui bougeront peu ou de façon commune. Chaque générateur s'occupe de générer le fichier content.xml (contenant donc le texte du document, son index...).&lt;/p&gt;

&lt;p&gt;Une fois ces fichiers générés un jar est réalisé par le deployer de documentation (/com.bluexml.side.Deployer.documentation). Celui ci va prendre l'ensemble des fichiers générés par modèle pour en créer un jar grâce au fichier build.xml.&lt;/p&gt;

&lt;h1&gt;Extension pour la documentation des méta-modèles&lt;/h1&gt;

&lt;p&gt;Le module ''com.bluexml.side.Integration.standAlone.metamodel.documentation'' permet la génération de la documentation des meta modèles. Il permet une extension d'application afin de pouvoir être appelé en &quot;StandAlone&quot; lors du build de verion de S-IDE.&lt;/p&gt;

&lt;p&gt;Ce module doit fournir un document opendoc (openOffice) représentant la documentation des meta modèles.&lt;/p&gt;

&lt;p&gt;Il s'inspire très fortement des precédents générateurs de documentations (classe de génération, template). Cependant, malgré le fait que les parties statiques des templates soient identiques, aucun moyen &quot;correct&quot; de les mutualiser n'a été trouvé.&lt;/p&gt;

&lt;h2&gt;Application&lt;/h2&gt;

&lt;p&gt;L'application prend en entrée 2 paramètres :&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;le chemin vers le répertoire du project eclipse contenant les meta models (* . ecore)&lt;/li&gt;
&lt;li&gt;le chemin relatif par rapport au workspace vers la target.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Il est à noter qu'il existe un parametre supplémentaire &quot;-data&quot; qui doit contenir le chemin absolu vers le worskpace à utiliser.&lt;/p&gt;

&lt;p&gt;L'application va ouvrir le worskpace, charger en tant que modèle tous les &quot;* . ecore&quot; présent dans ( 1 ). Pour chacun de ces modèles,  elle va appeler la génération avec le générateur spécifiquement développé.&lt;/p&gt;

&lt;p&gt;Le resultat est stocké dans ( 2 )/test/doc&lt;/p&gt;

&lt;h3&gt;Générateur&lt;/h3&gt;

&lt;p&gt;Le générateur étend DocumetationGenerator mais ne reprend pas les templates communs (meta, manifest, etc..) car on ne fait pas référence ici au même metaModel que dans les templates commun.&lt;/p&gt;

&lt;h3&gt;Templates acceleo&lt;/h3&gt;

&lt;p&gt;Les templates communs ont été copiés, et pour chacune des copies seul l'import du meta Model(EMF ECORE) a été modifié.&lt;/p&gt;

&lt;p&gt;Concernant le content et content_chapter (template permettant de générer le contenu du modèle lu, les parties statiques sont identiques à celles d'autres content, et content chapter, seules les parties dynamiques ont été modifiés pour coincider avec le meta model ecore.&lt;/p&gt;

&lt;p&gt;Un service specifique a été utlisé, les fonctions natives de ecore ne permettant pas de générer la documentation aisément.&lt;/p&gt;

&lt;h3&gt;Service pour la generation&lt;/h3&gt;

&lt;p&gt;Il sagit de CustomDocumentationService.&lt;/p&gt;

&lt;p&gt;Les méthodes qui y sont définies sont appelées dans les templates. Il s'agit principalement de emthode eprmettant de récupérer le contenu des &quot;noeuds&quot; &quot;documentations&quot; et d'encoder les caractères spéciaux des contenus récupérés.&lt;/p&gt;

&lt;h3&gt;A noter&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Aucun techName, techVersion etc.. n'ayant été spécifié pour le module, celui ci renseigne chacune de ces information par &quot;test&quot;.&lt;/li&gt;
&lt;li&gt;Le temps de generation est mediocre (+1'20 par modèle) sous windows vista 32 bits edition familliale.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Pour la documentation des méta modèle, un simple template de génération peut suffire (à voir si c'est possible de travailler avec le méta-modèle ? Au pire avec des services java on peut s'en sortir facilement. Au pire, il faut générer un fichier content.xml, donc avec un template (au sens template de présentation) ça peut également se faire (mais éviter de faire du code java avec le texte dedans comme fait actuellement, niveau maintenance c'est pas évident).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Java vs Javascript to develop business rules in Alfresco workflows</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/23/Java_vs_Javascript_to_develop_business_rules_in_Alfresco_workflows"/>
   <updated>2012-09-23T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/23/Java_vs_Javascript_to_develop_business_rules_in_Alfresco_workflows</id>
   <content type="html">&lt;p&gt;While Javascript Server Side may seem easier, it's a real mess to debug. So, I clearly prefer to use Java which avoid this kind of problems thanks to JPDA.&lt;/p&gt;

&lt;p&gt;For example, use the following javascript snippet into a transition in an Alfresco Workflow based on jBPM (and generated with SIDE to make thinks a lot easier):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var node =bpm_package.children[0];

var destination = node.parent.parent.childByNamePath(&quot;achieved&quot;);

if (node.shortType == 'YAMMA:com_bluexml_side_yamma_OutgoingMail') {
        destination = destination.childByNamePath(&quot;mail&quot;);
} else if (node.shortType == 'YAMMA:com_bluexml_side_yamma_Invoice') {
        destination = destination.childByNamePath(&quot;invoice&quot;);
} else if (node.shortType == 'YAMMA:com_bluexml_side_yamma_Quotation') {
        destination = destination.childByNamePath(&quot;quotation&quot;);
}

node.move(destination);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There is an error which is very difficult to diagnose if you don't know it. The error message just tells you that there is a '}' missing at the 3rd line of your script. Well, in fact, nothing's missing! You must just type node.shortType instead of node.typeShort to make things working smoothly!&lt;/p&gt;

&lt;p&gt;You can try to activate the javascript debugger but it won't be very useful because once loaded, the javascript code corresponding to your transition appears on one line. So debugging step by step is not very efficient.&lt;/p&gt;

&lt;p&gt;What a difference with Java in which you have tools, mature and well tested, to help you to develop the code you need.&lt;/p&gt;

&lt;p&gt;Thanks to JPDA, it's really easy.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Javascript logging</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/21/Javascript_logging"/>
   <updated>2012-09-21T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/21/Javascript_logging</id>
   <content type="html">&lt;p&gt;When you want to develop in javascript, you look for usual tools in programing languages. One of the best tool in Java is log4j. It's a tool to help developers to insert information in their code and display this information according the configuration. I t means you may have test and production configuration without the need to change anything.&lt;/p&gt;

&lt;p&gt;I gave a glimpse to google about javascript and logging and it gave me back 2 answers which seem of interest. It was:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;log4js&lt;/li&gt;
&lt;li&gt;log4javascript&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I first gave a try to log4js because of its name, very similar to the log4j for Java. Unfortunately, it didn't work correctly with my javascript application, because of a conflict.&lt;/p&gt;

&lt;p&gt;I didn't go further and tried log4javascript. It worked immediately like a charm. Here is the magic lines. Just add the following at the top of your html page:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/resources/common/js/misc/log4javascript.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script&amp;gt;
    log4javascript.setEnabled(true);
    var pua = new log4javascript.PopUpAppender();
    log4javascript.getDefaultLogger().addAppender(pua);
    log4javascript.getLogger(&quot;SIDE.Observer&quot;).addAppender(pua);
    log4javascript.getLogger(&quot;SIDE.Tree&quot;).addAppender(pua);

    // You can define explicitely a var to set the log level
    var lsa = log4javascript.getLogger(&quot;SIDE.Authenticate&quot;);
    lsa.setLevel(log4javascript.Level.INFO);
    lsa.addAppender(pua);
    log4javascript.getLogger(&quot;SIDE.Util&quot;).addAppender(pua);
    log4javascript.getLogger(&quot;SIDE.Preview&quot;).addAppender(pua);
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As stated in the code, you can define explicitely a var to set the log level.&lt;/p&gt;

&lt;p&gt;It works very well and the log window does the job.&lt;/p&gt;

&lt;p&gt;To conclude, log4js would certainly do the job but for any reasons, it didn't when I tried. Nevermind, these tools are mature and they work the same way, so don't be worry. Take the one that does the job for you the fastest.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Alfresco "document-details" Page Customization</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/01/Alfresco_%22document-details%22_Page_Customization"/>
   <updated>2012-09-01T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/09/01/Alfresco_"document-details"_Page_Customization</id>
   <content type="html">&lt;p&gt;The document-details page is defined in the page directory located $TOMCAT/webapps/share/WEB-INF/classes/alfresco/site-data/pages/document-details.xml:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;
&amp;lt;page&amp;gt;
   &amp;lt;title&amp;gt;Document Details&amp;lt;/title&amp;gt;
   &amp;lt;title-id&amp;gt;page.documentDetails.title&amp;lt;/title-id&amp;gt;
   &amp;lt;description&amp;gt;Document details&amp;lt;/description&amp;gt;
   &amp;lt;description-id&amp;gt;page.documentDetails.description&amp;lt;/description-id&amp;gt;
   &amp;lt;template-instance&amp;gt;document-details&amp;lt;/template-instance&amp;gt;
   &amp;lt;authentication&amp;gt;user&amp;lt;/authentication&amp;gt;
&amp;lt;/page&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This page uses the document-details template as indicated, located at $TOMCAT/webapps/share/WEB-INF/classes/alfresco/site-data/template-instances/document-details.xml&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;
&amp;lt;template-instance&amp;gt;
   &amp;lt;template-type&amp;gt;org/alfresco/document-details&amp;lt;/template-type&amp;gt;
   &amp;lt;properties&amp;gt;
      &amp;lt;pageFamily&amp;gt;documentlibrary&amp;lt;/pageFamily&amp;gt;
      &amp;lt;container&amp;gt;documentLibrary&amp;lt;/container&amp;gt;
   &amp;lt;/properties&amp;gt;
&amp;lt;/template-instance&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The document-details page is the result of the aggregation of the (take a deep breath :-) $TOMCAT/webapps/share/WEB-INF/classes/alfresco/templates/org/alfresco/document-details.ftl which looks like this for its most important part:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;div&amp;gt;
    &amp;lt;div&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-metadata-header&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-metadata&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-info&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-versions&quot; scope=&quot;template&quot; protected=true /&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;div&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-actions&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;@region id=doclibType + &quot;document-links&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;#if doclibType?starts_with(&quot;dod5015&quot;)&amp;gt;
            &amp;lt;@region id=doclibType + &quot;document-references&quot; scope=&quot;template&quot; protected=true /&amp;gt;
        &amp;lt;/#if&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The only part a little strange is that the core of this page, consisting of the metadata is not processed the same way, which would make customization a lot easier. Instead of that, they use the form component to render the document metadata. Maybe to provide inline update later, but for the moment, I just want to render my metadata and I prefer to have a consistent way to do this.&lt;/p&gt;

&lt;p&gt;So, I replaced the:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;@region id=doclibType + &quot;document-metadata&quot; scope=&quot;template&quot; protected=true /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;by:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;@region id=doclibType + &quot;document-metadata-core&quot; scope=&quot;template&quot; protected=true /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and then defined the corresponding template, webscript and component.&lt;/p&gt;

&lt;p&gt;First, indicate the component to use when the document-metadata-core region is used from the document-details template. This happens in $TOMCAT/share/WEB-INF/classes/alfresco/site-data/components/template.document-metadata-core.document-details.xml:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;
&amp;lt;component&amp;gt;
   &amp;lt;scope&amp;gt;template&amp;lt;/scope&amp;gt;
   &amp;lt;region-id&amp;gt;document-metadata-core&amp;lt;/region-id&amp;gt;
   &amp;lt;source-id&amp;gt;document-details&amp;lt;/source-id&amp;gt;
   &amp;lt;url&amp;gt;/components/document-details/document-metadata-core&amp;lt;/url&amp;gt;
&amp;lt;/component&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Second, define $TOMCAT/webapps/share/WEB-INF/classes/alfresco/site-webscripts/org/alfresco/components/document-details/document-metadata-core.get.(desc|head|html).xml files with the following content: 2.1: document-metadata-core.get.desc.html:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;webscript&amp;gt;
  &amp;lt;shortname&amp;gt;document-metadata-core&amp;lt;/shortname&amp;gt;
  &amp;lt;description&amp;gt;Document Metadata Core Component&amp;lt;/description&amp;gt;
  &amp;lt;url&amp;gt;/components/document-details/document-metadata-core&amp;lt;/url&amp;gt;
&amp;lt;/webscript&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;document-metadata-core.get.head.html:&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;#include &quot;../component.head.inc&quot;&amp;gt;
&amp;lt;!-- Document Metadata Header --&amp;gt;
&amp;lt;@link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;${page.url.context}/components/document-details/document-metadata-core.css&quot; /&amp;gt;
&amp;lt;@script type=&quot;text/javascript&quot; src=&quot;${page.url.context}/components/document-details/document-metadata-core.js&quot;&amp;gt;&amp;lt;/@script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;document-metadata-core.get.html:&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;//&amp;lt;![CDATA[
   new Alfresco.DocumentMetadataCore(&quot;${args.htmlid}&quot;).setMessages(${messages});
//]]&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;div id=&quot;metadata-core&quot;&amp;gt;
   &amp;lt;div&amp;gt;${msg(&quot;document-metadata-core.heading&quot;)}&amp;lt;/div&amp;gt;
   &amp;lt;h1&amp;gt;&amp;gt;Woooh, juste un peu de texte :-)&amp;lt;/h1&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lastly, we define $TOMCAT/webapps/share/components/document-details/document-metadata-core.js which will be compressed in document-metadata-core-min.js later:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/**
 * Document metadata-core component.
 *
 * @namespace Alfresco
 * @class Alfresco.DocumentMetadataCore
 */
(function()
{
   var Dom = YAHOO.util.Dom;
   var $html = Alfresco.util.encodeHTML;

   /**
    * DocumentMetadataCore constructor.
    *
    * @param {String} htmlId The HTML id of the parent element
    * @return {Alfresco.DocumentMetadataCore} The new DocumentMetadataCore instance
    * @constructor
    */
   Alfresco.DocumentMetadataCore = function(htmlId)
   {
      Alfresco.DocumentMetadataCore.superclass.constructor.call(this, &quot;Alfresco.DocumentMetadataCore&quot;, htmlId);*/

      /* Decoupled event listeners */
      YAHOO.Bubbling.on(&quot;documentDetailsAvailable&quot;, this.onDocumentDetailsAvailable, this);

      return this;
   };

   YAHOO.extend(Alfresco.DocumentMetadataCore, Alfresco.component.Base,
   {
      onDocumentDetailsAvailable: function DocumentMetadataCore_onDocumentDetailsAvailable(layer, args)
      {
      // Just write your code there
      }
   });
})();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Through the use of bubbling (kind of Observer pattern), the document-details page updates when the &quot;documentDetailsAvailable&quot; event fires and the method above is played thanks to the following line:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;YAHOO.Bubbling.on(&quot;documentDetailsAvailable&quot;, this.onDocumentDetailsAvailable, this);
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>How to initialize a git repository from an existing content</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/07/13/How_to_initialize_a_git_repository_from_an_existing_content"/>
   <updated>2012-07-13T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/07/13/How_to_initialize_a_git_repository_from_an_existing_content</id>
   <content type="html">&lt;p&gt;I'm sure it's not the shortest way to do it, but at least, it works :-)&lt;/p&gt;

&lt;h1&gt;Create the git repository&lt;/h1&gt;

&lt;p&gt;To achieve this, create the following script and name it create-git-repo.sh:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/sh

REPO_NAME=$1
DESC=$2

GIT_SERVER=git.side-labs.org
OWNER=&quot;Jean-Christophe+Kermagoret&amp;lt;jck@bluexml.com&amp;gt;&quot;
REPOSITORIES=&quot;/data/local/scm/git/$GIT_SERVER/repositories&quot;
GITWEB_PROJECTS=&quot;/&quot;
CLONEURL=&quot;https://git.side-labs.org/git/$REPO_NAME&quot;

# create a new bare repository
cd $REPOSITORIES
sudo -u www-data git init --bare $REPO_NAME
cd $REPO_NAME
#sudo -u git touch git-daemon-export-ok

# additional set-up for Gitweb
echo &quot;$DESC&quot; | sudo -u www-data tee description
echo &quot;$REPO_NAME $OWNER&quot; | sudo -u www-data tee -a GITWEB_PROJECTS
echo &quot;$CLONEURL&quot; | sudo -u www-data tee cloneurl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then to create the repo, just type the following&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;root# sh create-git-repo.sh YaRma &quot;Yet Another Requisition Management Application with SIDE&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Import existing content&lt;/h1&gt;

&lt;p&gt;Second, go into the directory where is stored your existing content (not the repository for the moment!)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;root# git init
root# git add .
root# git commit -m &quot;Initial import&quot;
root# git remote add origin /opt/local/scm/git/git.side-labs.org/repositories/YaRma.git
root# git push --all
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, it's time to just check your installation through gitweb.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Share Folder Constraints</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2012/03/06/share-folder-contains"/>
   <updated>2012-03-06T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2012/03/06/share-folder-contains</id>
   <content type="html">&lt;p&gt;This page explains how to define a custom folder, and add the capability on create Forms to upload child for this new folder.&lt;/p&gt;

&lt;h1&gt;SIDE Project&lt;/h1&gt;

&lt;p&gt;Use the New Project wizard to create a new SIDE project, choose alfresco-3.4.6&lt;/p&gt;

&lt;h2&gt;DataModel&lt;/h2&gt;

&lt;h3&gt;Extends from cm:Folder&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Create your custom Folder 'MyFolder'&lt;/li&gt;
&lt;li&gt;Import alfresco content model&lt;/li&gt;
&lt;li&gt;Add generalization from 'MyFolder' to cm:Folder&lt;/li&gt;
&lt;li&gt;On 'MyFolder' add metainfo single-child value=true, this enable a policy that 'move' new children from the tmp folder to 'MyFolder'&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Forms Models&lt;/h1&gt;

&lt;h2&gt;Initialize models&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Right click on SIDE project&lt;/li&gt;
&lt;li&gt;Clock on Initialize (or select your application model)&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Create popup.form&lt;/h2&gt;

&lt;p&gt;This form model aims to define forms that can be called as share popup from another form&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Create new form model file 'popup.form'&lt;/li&gt;
&lt;li&gt;Add a new form with dataType equals to cm:content (load resource cmcontent.dt)&lt;/li&gt;
&lt;li&gt;Initialize the form&lt;/li&gt;
&lt;li&gt;Add template metainfo value=/side/templates/share-popup-tab-edit-form.ftl&lt;/li&gt;
&lt;li&gt;Transform the content field into FileField.&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Create toolbar.form&lt;/h2&gt;

&lt;p&gt;We need a dedicated form collection to use to create new document and folder, this form collection will feed the &quot;Create new ...&quot; menu (see portal)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Create a new 'toolbar.form'&lt;/li&gt;
&lt;li&gt;Add a new form with dataType equals to 'MyFolder'&lt;/li&gt;
&lt;li&gt;Initialize the form&lt;/li&gt;
&lt;li&gt;Select the ModelChoiceField contains (the child association to sys:base)&lt;/li&gt;
&lt;li&gt;Set Association to the 'Content' popup form&lt;/li&gt;
&lt;li&gt;Set widget to Select&lt;/li&gt;
&lt;li&gt;Add metainfo 'targetDestination' value can be a nodeRef or a xpath that point to a Folder, this folder will be used to create the child for example '/app:company_home/st:sites/{site}/cm:tmp'&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can disable selection of existing contents:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;add 'hideSelector' metainfo value=true&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Portal model&lt;/h1&gt;

&lt;p&gt;Setup documentLibrary page to add new types in 'Create content ...' menu&lt;/p&gt;

&lt;p&gt;open Portal model
create a GeneratedPortlet, edit and select the toolbar form collection
create a Portlet &quot;toolbar-create-content&quot;
link the portlet to the GeneratedProtlet and to the documentLibrary page
edit the page-&gt;partlet link to create layout information and have a valid model&lt;/p&gt;

&lt;h1&gt;Generation&lt;/h1&gt;
</content>
 </entry>
 
 <entry>
   <title>Share Data List</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2012/03/01/share-data-list"/>
   <updated>2012-03-01T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2012/03/01/share-data-list</id>
   <content type="html">&lt;p&gt;This page explains :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;How to customize alfresco share DataListItem and use them as selectable value in custom class.&lt;/li&gt;
&lt;li&gt;How to define DocumentLibrary Filter on such DataList.&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;DataModel&lt;/h1&gt;

&lt;h2&gt;Extends from DataListItem&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Create a new Class &quot;MyDataList&quot;&lt;/li&gt;
&lt;li&gt;Load Alfresco cm:content.dt model&lt;/li&gt;
&lt;li&gt;Drag'n drop DataListItem Class into your diagram&lt;/li&gt;
&lt;li&gt;Add generalization link from &quot;MyDataList&quot; to &quot;DataListItem&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Add Association to DataListItem&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Create a new Class &quot;MyDocument&quot;&lt;/li&gt;
&lt;li&gt;Add association to &quot;MyDataList&quot;&lt;/li&gt;
&lt;li&gt;Select the association and in option, set &quot;searchable&quot; to true&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Configure Forms to use DataList&lt;/h1&gt;

&lt;p&gt;Use initialize action on project, this creates all defaults models.&lt;/p&gt;

&lt;h2&gt;DataListItem Forms&lt;/h2&gt;

&lt;p&gt;No special changes are required, but you may want to remove some disturbing fields.&lt;/p&gt;

&lt;h2&gt;Setup ModelChoiseField&lt;/h2&gt;

&lt;p&gt;On &quot;MyDocument&quot; forms in default.form:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Select the field (ModelChoiceField) of the association to &quot;DataListItem&quot;&lt;/li&gt;
&lt;li&gt;In properties view, choose the widget to use (see widgets for associations)&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Add Filter on document library page&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Open &amp;lt; project&gt;.portaldi model file&lt;/li&gt;
&lt;li&gt;Load resource /Model-library-Alfresco-3.4.6-EE/portal/alfrescoSharePortal.portaldi&lt;/li&gt;
&lt;li&gt;Copy DocumentLibrary Page (unselect all references to keep them all)&lt;/li&gt;
&lt;li&gt;Create a new Portlet (fill portal.name, portal.title)&lt;/li&gt;
&lt;li&gt;Load resource /Model-library-SIDE-Built-in/portal/buildInLibraryAlfresco.portal&lt;/li&gt;
&lt;li&gt;Drag'n drop &quot;DynamicFilter&quot; &quot;Portal Portlet&quot;&lt;/li&gt;
&lt;li&gt;Add isPortalPortel link&lt;/li&gt;
&lt;li&gt;Edit the link and fill :&lt;/li&gt;
&lt;li&gt;url: /components/dynamicFilter&lt;/li&gt;
&lt;li&gt;scope: template&lt;/li&gt;
&lt;li&gt;dataType: MyDataList prefixedQName (myproject:MyDataList)&lt;/li&gt;
&lt;li&gt;dataTemplate: {type: '&amp;lt; MyDocumentQName&gt;', fields : {'&amp;lt; associationQName&gt;search' : {type :'string', operator:'is', values : ['{nodeRef}']}}}&lt;/li&gt;
&lt;li&gt;filterType: metadata&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Metadata filter will be used to fill the document list, by searching any &amp;lt; MyDocumentQName&gt; with property &amp;lt; associationQName&gt;search equal to the current selected node.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Share Forms Associations</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2012/02/16/share-forms-association"/>
   <updated>2012-02-16T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2012/02/16/share-forms-association</id>
   <content type="html">&lt;h1&gt;Simple Select&lt;/h1&gt;

&lt;p&gt;This widget is used if you choice &quot;Select&quot; as widget, you can also set template metainfo value=/side/controls/association-select.ftl&lt;/p&gt;

&lt;h2&gt;Metainfo options&lt;/h2&gt;

&lt;p&gt;Available option are (use metainfo to set them):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;searchInSite [true|false]: default value &quot;true&quot;, enable/disable filter available items on current site.&lt;/li&gt;
&lt;li&gt;itemType [&amp;lt; prefixedQName&gt;]: default value is set to association endPoint, can be used to select a subtype.&lt;/li&gt;
&lt;li&gt;multipleSelectMode [true|false]: default value is set according to endPoint. so you can force a multiple endePoint to false so only one item can be selected, but the other alternative (single endPoint forced to multiple) will implies runtime exception&lt;/li&gt;
&lt;li&gt;filterTerm [String,&lt;em&gt; ]: default value '&lt;/em&gt; ' (accept all value), can be used to filter items on cm:name&lt;/li&gt;
&lt;li&gt;&lt;p&gt;advancedQuery [&amp;lt; query&gt;]: should be follow the grammar, please not ' char is used to indicate terminal items&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;lt; query&gt;=&amp;lt; subquery&gt;+&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&amp;lt; subquery&gt;=[' ( ']?&amp;lt; attributeQuery&gt;[' '&amp;lt; operator&gt;' '&amp;lt; attributeQuery&gt;]*[' ) ']?&lt;/li&gt;
&lt;li&gt;&amp;lt; attributeQuery&gt;=&amp;lt; prefixedQName&gt;'='&amp;lt; value&gt;&lt;/li&gt;
&lt;li&gt;&amp;lt; operator&gt;=['AND'|'OR'|'NOT']&lt;/li&gt;
&lt;li&gt;&amp;lt; value&gt;= any String, beware of ' ' char a this moment this should cause some trouble because ' ' is use as separator&lt;/li&gt;
&lt;li&gt;example :' ( cm:name=toto OR cm:name=titi ) AND cm:title=super'&lt;/li&gt;
&lt;li&gt;maxResults [integer]: default -1 (unbounded), can be used to limit items numbers&lt;/li&gt;
&lt;li&gt;hideSelector [true|false]: default is false, can be used to disable the select, could be used in conjunction with &quot;add new&quot;, so user can only create new item instead of select existing ones&lt;/li&gt;
&lt;li&gt;getDataSource [js function]: must be a javascript function that build a YUI DataSource to replace the default one, use this method if you can't filter as you wish using filterTerm and advancedQuery, so you can implements a new data webscript that give you same data structure in response.&lt;/li&gt;
&lt;li&gt;association form class, allow the &quot;Add&quot; and &quot;Edit&quot; features , so user can create/edit a item to select.&lt;/li&gt;
&lt;li&gt;To disable Add feature create metadata key=allowToCreate, value=false&lt;/li&gt;
&lt;li&gt;To disable Edit feature create metadata key=allowToEdit, value=false&lt;/li&gt;
&lt;li&gt;for association that allow multiple target :&lt;/li&gt;
&lt;li&gt;nodoubleValue : control that added value do not already exists in list.&lt;/li&gt;
&lt;li&gt;nodoubleLabel : control that added label (the displayed value cm:name in main cases) do not already exists in list.&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Autocomplete&lt;/h1&gt;

&lt;p&gt;To use this widget, create a metainfo element under the modelChoiceField :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;key=template&lt;/li&gt;
&lt;li&gt;value=/side/controls/association-autocomplete.ftl&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Picker for TreeFilter&lt;/h1&gt;

&lt;p&gt;This widget is designed to select node in a tree. You need to setup following parameters using metainfo(key/value). Xtension attribute can be used too but mainly for backward compatibility, so prefer metainfo:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;template : /side/controls/association-treeNode.ftl, this enable the treeNode widget (an extension of Alfresco.ObjectPicker)&lt;/li&gt;
&lt;li&gt;params :&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;CheckBox&lt;/h1&gt;
</content>
 </entry>
 
 <entry>
   <title>Component Content Management System</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/01/13/Component_Content_Management_System"/>
   <updated>2012-01-13T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2012/01/13/Component_Content_Management_System</id>
   <content type="html">&lt;h1&gt;The Problem To Address&lt;/h1&gt;

&lt;p&gt;One more time, to prepare a course, I had to browse all the documentation I wrote to find the right material I needed. Of course, I had to rewrite part of it because it was not structured the right way. I think it's time to organize my content in a way I can reuse it.&lt;/p&gt;

&lt;h1&gt;The Solution&lt;/h1&gt;

&lt;p&gt;Some solution exist and are called Component Content System. Wikipedia gives us a very clear definition:&lt;/p&gt;

&lt;p&gt;A component content management system (CCMS) is a content management system that manages content at a granular level (component) rather than at the document level. Each component represents a single topic, concept or asset (e.g., image, table, product description). Components can be as large as a chapter or as small as a definition or even a word. Components in multiple content assemblies (content types) can be viewed as components or as traditional documents.
So, in short, I want unit of imformation at an enough low level granularity so I can recreate the content I want it by simply recombining it by hand, through automatic queries based on classification, structure, ...&lt;/p&gt;

&lt;h1&gt;The Reality&lt;/h1&gt;

&lt;p&gt;Well, it looks like DITA or Docbook.&lt;/p&gt;

&lt;h2&gt;DocBook&lt;/h2&gt;

&lt;p&gt;I already used Docbook and it's true you can do amazing things but you need to write everything in XML according the docbook schema. OOo does not support it very well and it's a little too complex for non technical users. I tried docbook2odp, which generate clean OOo Presentation but you still need to work with Docbook. I had a look to wiki syntax, such mediawiki, because there is an XML extension to get Docbook format. Unfortunately, exporting preformatted code gives a poor result, so I need to fix it manually. Too boring.&lt;/p&gt;

&lt;h2&gt;rST&lt;/h2&gt;

&lt;p&gt;I had a look too at rST (reStructuredText) to generate OOo Presentations with rST2odp which almost don't need to be fixed. Moreover, you can apply an OOo Presentation template during rST to odp generation. Unfortunately, there are no tools to convert mediawiki to rST.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;My requirement is finally very simple. How to make all these tools communicate so I can use my preferred input type and get my preferred output for the tasks I have to achieve? Of course without fixing or rewriting anyting. Just reuse?&lt;/p&gt;

&lt;p&gt;I guess I need to go further on DITA which seems the way to go.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>SSL configuration on Tomcat for Alfresco authentication with Ldaps</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/08/01/SSL_configuration_on_Tomcat_for_Alfresco_authentication_with_Ldaps"/>
   <updated>2011-08-01T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/08/01/SSL_configuration_on_Tomcat_for_Alfresco_authentication_with_Ldaps</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;I want Alfresco to be able to authenticate on a Ldap server, secured with SSL.&lt;/p&gt;

&lt;h1&gt;Problem&lt;/h1&gt;

&lt;p&gt;Ldaps is a ldap service secured on SSL. So you need to accept the SSL certificate to use the service.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;To do so in the java world, you need a java keystore which stores the certificates (and private keys too). This is a file usually stored in /etc/java/keystore.jks&lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;p&gt;You first need to get the SSL certificate of the ldaps service. You can get it through openssl command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;openssl s_client -connect YOUR_SERVER:YOUR_PORT -showcerts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Just copy the lines beetween -BEGIN- until -END- with these latter included into ldaps.crt for example. If you want a more automated procedure, just have a look to get-cert script which wraps &quot;openssl s_client&quot;. You can then import it into your keystore:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;keytool -import -alias ldaps -file ldaps.crt -keystore /etc/java/keystore.jks
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Usage&lt;/h1&gt;

&lt;p&gt;Just launch Tomcat with the following option:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export JAVA_OPTS=$JAVA_OPTS' -Djavax.net.ssl.trustStore=/etc/java/keystore.jks'
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>SIDE Reverse for Alfresco</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2011/07/05/side-reverse-for-Alfresco"/>
   <updated>2011-07-05T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2011/07/05/side-reverse-for-Alfresco</id>
   <content type="html">&lt;h1&gt;Presentation&lt;/h1&gt;

&lt;p&gt;The purpose of reverse is to read some Alfresco configuration files and produce resulting SIDE models. With such models, it's then possible to extend and use existing alfresco objects into custom SIDE models.&lt;/p&gt;

&lt;h2&gt;Technical&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;100% Java&lt;/li&gt;
&lt;li&gt;Reading XML alfresco files using xsd schema, JAXB code generation&lt;/li&gt;
&lt;li&gt;Writing SIDE models using Ecore API (so all serialization details are ignored)&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Algorithmic&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Sorting XML files according to their dependencies, so we can read them without trouble (ie missing references)&lt;/li&gt;
&lt;li&gt;Optionally load in registry existing SIDE models (already reversed alfresco native models for example)&lt;/li&gt;
&lt;li&gt;Read Alfresco files according to computed order&lt;/li&gt;
&lt;li&gt;For each matching object:&lt;/li&gt;
&lt;li&gt;Create corresponding SIDE model object&lt;/li&gt;
&lt;li&gt;Add it to registry&lt;/li&gt;
&lt;li&gt;Registry is used to resolve references&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Reverse From Alfresco Content models&lt;/h1&gt;

&lt;p&gt;The easiest case to reverse is to have full bijective matching between each meta-model concept. At this time, the only unsupported feature is the reverse of &quot;overrides&quot; attributes definition. Some primitive types are not reversed as expected.&lt;/p&gt;

&lt;h2&gt;side.reverse Ant Task&lt;/h2&gt;

&lt;p&gt;Reverse can be executed in ANT targets using side.reverse task (see SIDE Ant Task).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Email Management System</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/06/12/Email_Management_System"/>
   <updated>2011-06-12T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/06/12/Email_Management_System</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;How to manage emails in a document management system so it is as convenient as a mail client? Not only plain emails with only a text body, but complex ones with a text body, an html one, one or more attachments?&lt;/p&gt;

&lt;h1&gt;Requirements&lt;/h1&gt;

&lt;p&gt;Manage emails means:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;file them&lt;/li&gt;
&lt;li&gt;process them through workflows&lt;/li&gt;
&lt;li&gt;link to them&lt;/li&gt;
&lt;li&gt;reuse them&lt;/li&gt;
&lt;li&gt;resend them&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Analysis&lt;/h1&gt;

&lt;p&gt;Mails can be seen:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;as a whole: the .eml file&lt;/li&gt;
&lt;li&gt;as a set of parts: the meta-data, the text body, the attachments&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While the .eml file is interesting from a legal point of view, it is not practical because of the necessity to process it each time you want to access it. In contrast, the set of parts, while very interesting from accessibility is more difficult to prevent from modifications.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;The obvious solution is to mix the 2 solutions. So:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;REQ1 : a folder to store all the parts of the mail with a name corresponding to the mail subject&lt;/li&gt;
&lt;li&gt;REQ2: body&lt;/li&gt;
&lt;li&gt;REQ3: attachment1, attachment2, ...&lt;/li&gt;
&lt;li&gt;REQ4: some meta-data added to an element (folder or body?) to store a link on the .eml archive&lt;/li&gt;
&lt;li&gt;REQ5: ability to link from any document to the mail parts&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Alfresco&lt;/h1&gt;

&lt;p&gt;The solution provided by Alfresco doesn't meet our requiremsnts. In Alfresco, through IMAP subsystem, messages are stored like the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Message_1717.eml, the archive with all the embedded content&lt;/li&gt;
&lt;li&gt;Message_1717.eml-attachments, a folder with all the attachments extracted from the previous .eml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It is not very interesting from a user point of view when browsing the application (Share or another one) because file names are not readable. Attachment names are readable, but not the text body corresponding to the main message which is encapsulated into the .eml file.&lt;/p&gt;

&lt;p&gt;To achieve:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;REQ1: store the Message-1717.eml file into the corresponding folder (+-attachments), extract the mail subject and rename the folder and the body to this latter&lt;/li&gt;
&lt;li&gt;REQ2: extract the body by transforming the email to text&lt;/li&gt;
&lt;li&gt;REQ3: attachments are ok&lt;/li&gt;
&lt;li&gt;REQ4: extract meta-data from the document by playing the extract common action on the message&lt;/li&gt;
&lt;li&gt;REQ5: let access to the elements and still protecting them from modifications&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Finally, the order to follow is:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;REQ1: this can be done during file replication from system 1 to 2 in a multi-tenant Alfresco server&lt;/li&gt;
&lt;li&gt;REQ4: configure an action to extract meta-data&lt;/li&gt;
&lt;li&gt;REQ2: configure an action to transform the content&lt;/li&gt;
&lt;li&gt;REQ3: attachments are still ok&lt;/li&gt;
&lt;li&gt;REQ5: security configuration&lt;/li&gt;
&lt;li&gt;REQ1 can be done through file manipulations REQ4 and REQ2 can be done in the same action. REQ5 is Alfresco configuration&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Precautions&lt;/h1&gt;

&lt;p&gt;Folders containing mails must be preserved from modifications.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;By adding workflows, launched automatically, it is possible to get an (e)mail management system. Based on a multi-tenant system, this architecture my provide the base for the YaMma application.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>SSL configuration on Apache as a front end for Alfresco</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/05/23/SSL_configuration_on_Apache_as_a_front_end_for_Alfresco"/>
   <updated>2011-05-23T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/05/23/SSL_configuration_on_Apache_as_a_front_end_for_Alfresco</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;I want to secure Alfresco (webdav) and Share Access through SSL.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;The solution is to secure Alfresco access through Apache-SSL.&lt;/p&gt;

&lt;p&gt;Why not directly use Tomcat SSL? Because I want to protect 2 tomcat instances and only make one SSL installation. Moreover, I need some Apache specific features like rewriting ones.&lt;/p&gt;

&lt;p&gt;Only Apache access will be available so Alfresco will be available through ProxyPass features. Direct access is prohibited at the tomcat level.&lt;/p&gt;

&lt;h1&gt;Configuration&lt;/h1&gt;

&lt;h2&gt;SSL Configuration&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;cd /etc/ssl
openssl genrsa -des3 -rand file1:file2:file3:file4:file5 -out server-with-passphrase.key 2048
openssl rsa -in server-with-passphrase.key -out server.pem
openssl req -new -key server.pem -out server.csr
openssl x509 -req -days 365 -in server.csr -signkey server.pem -out server.crt
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;SSL Apache Configuration&lt;/h2&gt;

&lt;p&gt;You can then create the following configuration into your apache configuration file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SSLEngine on
SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SSLCertificateFile /etc/ssl/certs-specific/gollum.bluexml.com.crt
SSLCertificateKeyFile  /etc/ssl/private/gollum.bluexml.com.pem
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;ProxyPass Apache Configuration&lt;/h2&gt;

&lt;p&gt;Don't forget to activate proxy_http module:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;a2enmod proxy_http
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can then create the following configuration into your apache configuration file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;Proxy *&amp;gt;
  AddDefaultCharset Off
  Order deny,allow
  Allow from all
&amp;lt;/Proxy&amp;gt;

ProxyPass /share http://localhost:8080/share
ProxyPassReverse /share http://localhost:8080/share

ProxyPass /alfresco http://localhost:8080/alfresco
ProxyPassReverse /alfresco http://localhost:8080/alfresco
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Automatic Java Class Generation From jBPM Process Definition File</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/12/Automatic_Java_Class_Generation_From_jBPM_Process_Definition_File"/>
   <updated>2011-03-12T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/12/Automatic_Java_Class_Generation_From_jBPM_Process_Definition_File</id>
   <content type="html">&lt;h1&gt;Goal&lt;/h1&gt;

&lt;p&gt;This page explains how to automatically add action in a jBPM workflow and generate the corresponding java class from a jBPM processdefinition file for each added action. At the end, you'll have a java class with a method for each action in transitions and events. The methods only contain a log statement at first. You then can inherit from it and customize the code if you want.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;The solution is achieved in 2 steps:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;add a java action for each transition and event&lt;/li&gt;
&lt;li&gt;generate the java class with a method for each action&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Add a Java action for each transition and event&lt;/h1&gt;

&lt;p&gt;This is done through this xsl code snippet extracted from this xsl stylesheet.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;xsl:template match=&quot;transition|event&quot;&amp;gt;
        &amp;lt;xsl:element name=&quot;{name()}&quot;&amp;gt;
                &amp;lt;xsl:copy-of select=&quot;@*&quot;/&amp;gt;
                &amp;lt;xsl:choose&amp;gt;
                        &amp;lt;xsl:when test=&quot;not(action)
                                        or (action and $replaceActions = 'true')&quot;&amp;gt;
                                &amp;lt;action&amp;gt;
                                        &amp;lt;xsl:apply-templates select=&quot;.//script&quot;/&amp;gt;
                                &amp;lt;/action&amp;gt;
                        &amp;lt;/xsl:when&amp;gt;
                        &amp;lt;xsl:otherwise&amp;gt;
                                &amp;lt;xsl:apply-templates/&amp;gt;
                        &amp;lt;/xsl:otherwise&amp;gt;
                &amp;lt;/xsl:choose&amp;gt;
        &amp;lt;/xsl:element&amp;gt;
&amp;lt;/xsl:template&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Generate the Java class with a method for each action&lt;/h1&gt;

&lt;p&gt;This is done through this xsl code snippet extracted from this xsl stylesheet.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;xsl:template name=&quot;create-java-class&quot;&amp;gt;
        &amp;lt;xsl:param name=&quot;package&quot;/&amp;gt;
        &amp;lt;xsl:param name=&quot;class&quot;/&amp;gt;

package &amp;lt;xsl:value-of select=&quot;$package&quot;/&amp;gt;;

import org.sidelabs.workflow.SIDEActionHandler;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

public class &amp;lt;xsl:value-of select=&quot;$class&quot;/&amp;gt; extends SIDEActionHandler {

        private static final long serialVersionUID = 1L;
        private static Log logger = LogFactory.getLog(&amp;lt;xsl:value-of select=&quot;$class&quot;/&amp;gt;.class);

        /**
         * Transitions
         */
        &amp;lt;xsl:apply-templates select=&quot;.//transition&quot;/&amp;gt;

        /**
         * Events
         */
        &amp;lt;xsl:apply-templates select=&quot;.//event&quot;/&amp;gt;

}
        &amp;lt;/xsl:template&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Action&lt;/h1&gt;

&lt;p&gt;An ant script is provided in the SIDE-deployer project. Java classes will be stored into the provided package. The class name is based on the name of the workflow. Don't forget to capitalize your workflow name in your SIDE model!&lt;/p&gt;

&lt;h1&gt;Build Java classes (and replace existing actions)&lt;/h1&gt;

&lt;p&gt;Java classes will be stored into the provided package. The class name is based on the name of the workflow. Don't forget to capitalize your workflow name in your SIDE model!&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./build.sh improve-workflows \ -Dworkflow.action.package=&quot;org.sidelabs.is.operational.workflow&quot; -DuseProcessDefinitionName=&quot;true&quot; -DreplaceActions=&quot;true&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Choose the name of the main class if required&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;./build.sh improve-workflows \
  -Dworkflow.action.package=&quot;org.sidelabs.is.operational.workflow&quot;
  -Dworkflow.action.class=&quot;Dispatch&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Choose not to replace already existing actions&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./build.sh improve-workflows \
  -Dworkflow.action.package=&quot;org.sidelabs.is.operational.workflow&quot;
  -useProcessDefinitionName=&quot;true&quot;
  -DreplaceActions=&quot;true&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;You get the following java class:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;package org.sidelabs.is.operational.workflow;

import org.sidelabs.workflow.SIDEActionHandler;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

public class Yamma extends SIDEActionHandler {

        private static final long serialVersionUID = 1L;
        private static Log logger = LogFactory.getLog(Yamma.class);

        /**
         * Transitions
         */

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void initialize() {
                        logger.debug(&quot;Processing: initialize&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void checkQuality() {
                        logger.debug(&quot;Processing: checkQuality&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void accountingIsNOK() {
                        logger.debug(&quot;Processing: accountingIsNOK&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void accountingIsOK() {
                        logger.debug(&quot;Processing: accountingIsOK&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void legalIsNOK() {
                        logger.debug(&quot;Processing: legalIsNOK&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void legalIsOK() {
                        logger.debug(&quot;Processing: legalIsOK&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void finish1() {
                        logger.debug(&quot;Processing: finish1&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void finish2() {
                        logger.debug(&quot;Processing: finish2&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void retry() {
                        logger.debug(&quot;Processing: retry&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void decision2() {
                        logger.debug(&quot;Processing: decision2&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void termination() {
                        logger.debug(&quot;Processing: termination&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void accounting() {
                        logger.debug(&quot;Processing: accounting&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void legal() {
                        logger.debug(&quot;Processing: legal&quot;);
                }

        /**
         * Events
         */

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void onEnteringNodeMove() {
                        logger.debug(&quot;Processing: onEnteringNodeMove&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void onEnteringNodeTermination() {
                        logger.debug(&quot;Processing: onEnteringNodeTermination&quot;);
                }

                /**
                  * @param none
                  *
                  * @return void
                  **/
                public void onEnteringNodeError() {
                        logger.debug(&quot;Processing: onEnteringNodeError&quot;);
                }

}
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Alfresco multi tenant IMAP4 and mount.davfs</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/12/Alfresco_multi-tenant_IMAP4_and_mount.davfs"/>
   <updated>2011-03-12T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/12/Alfresco_multi-tenant_IMAP4_and_mount.davfs</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;In a multi-tenant Alfresco, I want to be able to use IMAP4, which is not supported in this situation, except for the host (the main tenant).&lt;/p&gt;

&lt;p&gt;A work around consists in mounting other tenants through webdav to be able to copy content from one tenant to another, and then to extract meta-data through a content rule. This feature sounds like the replicate one which is unfortunately unavailable on multi-tenant systems.&lt;/p&gt;

&lt;h1&gt;Summary&lt;/h1&gt;

&lt;p&gt;The Alfresco host server acts like the main tenant which receives mails for other tenants then, through webdav, copied them to other tenants.&lt;/p&gt;

&lt;p&gt;In very short, Replicate = WebDAV + Content Rule&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;The solution is based on mount.davfs.&lt;/p&gt;

&lt;p&gt;You can install it through the davfs debian package. Just do:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-get install davfs
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Mount.davfs Configuration&lt;/h1&gt;

&lt;p&gt;You then need to edit:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/etc/davfs/secrets, to indicate for each mount point the user and passwd to use&lt;/li&gt;
&lt;li&gt;/etc/davfs/certs/yourserver.pem, to indicate the certificate for your alfresco webdav server, using SSL&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;My /etc/davfs/secrets file contains the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/mnt/davfs/test2-admin admin@test2 xxxx
/mnt/davfs/test1-admin admin@test1 xxxx
/mnt/davfs/demo2-admin admin@demo2 xxxx
/mnt/davfs/demo1-admin admin@demo1 xxxx
/mnt/davfs/main-admin admin xxxx
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;where xxxx must be replaced by your password for each tenant. You can of course make some mountings with other user accounts than the admin one.&lt;/p&gt;

&lt;p&gt;You can then mount your webdav server on your mount point. For example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mount -t davfs https://your.alfresco.server/alfresco/webdav /mnt/davfs/main-admin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;where /mnt/davfs/main-admin is a directory you created before the mount command&lt;/p&gt;

&lt;p&gt;You can then use your remote alfresco server like any usual file systems and copies the data.&lt;/p&gt;

&lt;p&gt;For example, I do:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cp -rf /mnt/davfs/main-admin/Imap\ Home/admin/INBOX/Alfresco/* /mnt/davfs/test1-admin/Sites/test1/documentLibrary/test/Alfresco
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Meta-data Extraction Through Content Rule&lt;/h1&gt;

&lt;p&gt;E-mails are now available in my tenant, but they aren't seen like emails. So, I need to extract the meta-data corresponding to e-mails. To achieve that, I just have to create a content rule which will be triggered on new elements. This content rule will extract common meta-data from freshly copied emails.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;It's a little hacky but it does the job!!!&lt;/p&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;http://linux.die.net/man/8/mount.davfs&lt;/li&gt;
&lt;li&gt;http://www.linuxquestions.org/questions/linux-software-2/force-accept-certificates-when-using-mount-davfs-632056/ to automatically accept certificates when mounting the WebDAV resource with SSL&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Alfresco Share Forms Generation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2011/03/07/alfresco-share-form-generation"/>
   <updated>2011-03-07T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2011/03/07/alfresco-share-form-generation</id>
   <content type="html">&lt;p&gt;This is done by generating a xml file following form-config-3.3.xsd schema, and extends springs context to enable share to load the generated files.&lt;/p&gt;

&lt;h1&gt;Integration&lt;/h1&gt;

&lt;p&gt;How SIDE set Share to use a form definition for specific application part ?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Alfresco Share search configuration that match with the data type (condition#&quot;&amp;lt; Qname&gt;&quot;)&lt;/li&gt;
&lt;li&gt;the form share components use default forms (without @id) unless the formid parameter is set&lt;/li&gt;
&lt;li&gt;SIDE use Form model with Class Form Collection named &quot;default&quot; to generate default forms configuration, other generated models have a @id with value equals to the Class Form Collection name&lt;/li&gt;
&lt;li&gt;SIDE use Portal model to generate specific component configuration (with formid)&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Kerblue Form Model supported features&lt;/h1&gt;

&lt;h2&gt;Form classes collection&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Avoid collision on generated form configuration :
In the case of you need to integrate form models that uses the same FormCollection name you could use &quot;forcedModelName&quot; MetaInfo on FormCollection to force the generator to use your value when generating files so files will be generated in dedicated directory and do not override some others files.&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Form&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;presentation :

&lt;ul&gt;
&lt;li&gt;tabbed, display all groups as tabs (subgroups are displayed too but without imbrication)&lt;/li&gt;
&lt;li&gt;auto and others no supported, fields displayed in order.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;use isEditForm / isCreateForm Metadata to have dedicated forms, without metadata the default behaviour is to generate form for edit and create mode

&lt;ul&gt;
&lt;li&gt;add metadata key#isEditForm value#true|false&lt;/li&gt;
&lt;li&gt;add metadata key#isCreateForm value#true|false&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;FormGroup&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;id, the label id used as i18n key&lt;/li&gt;
&lt;li&gt;label, used to generate i18n catalog&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Fields&lt;/h3&gt;

&lt;p&gt;Fields types do not affect generation, we let alfresco form engine use default controls and fields rendition.
But define a special rendition is easy.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;use metaInfo{key#template, value#&quot;&amp;lt; templatePath&gt;.ftl&quot;} to set the freemarker renderer, all control parameters can be sets using metaInfo To know available parameters for each control see http://wiki.alfresco.com/wiki/Forms#Configuring_Controls&lt;/li&gt;
&lt;li&gt;Alfresco pseudo-fields like content.mimeType :

&lt;ul&gt;
&lt;li&gt;Copy/edit the field cm:content.&lt;/li&gt;
&lt;li&gt;On the field that refer to cm:content add metaInfo{key#&quot;pseudo-field&quot;, value#&quot;mimetype|size|encoding&quot;}.&lt;/li&gt;
&lt;li&gt;Generator will select the right form control for you, but as any field you can use metaInfo to set the freemarker renderer.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;helpText, can initialize i18n bundle.&lt;/li&gt;
&lt;li&gt;field-autocomplite.ftl

&lt;ul&gt;
&lt;li&gt;template : /side/controls/field-autocomplete.ftl&lt;/li&gt;
&lt;li&gt;getDataSource : must define js function see association-autocomplite documentation&lt;/li&gt;
&lt;li&gt;hiddenValueIsLabel : [true|false] this allow the form to send the label instead of nodeRef&lt;/li&gt;
&lt;li&gt;allowInvalide : [true|false] allow to enter value not present in item list returned by the data source&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;AssociationFields (MM ModelChoiceFields)&lt;/h3&gt;

&lt;p&gt;Main properties are automatically set by the initialize action, but some properties could be edited :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Association form Class, allow the &quot;Add&quot; and &quot;Edit&quot; features , so user can create/edit a item to select.&lt;/li&gt;
&lt;li&gt;To disable Add feature create metadata key#allowToCreate, value#false&lt;/li&gt;
&lt;li&gt;To disable Edit feature create metadata key#allowToEdit, value#false&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For Advanced configuration see [[SHARE_FORMS_ASSOCIATIONS | Advanced association fields configuration]]&lt;/p&gt;

&lt;h2&gt;Form search collection&lt;/h2&gt;
</content>
 </entry>
 
 <entry>
   <title>imapsync and Alfresco</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/01/imapsync_and_Alfresco"/>
   <updated>2011-03-01T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/03/01/imapsync_and_Alfresco</id>
   <content type="html">&lt;h1&gt;Use case&lt;/h1&gt;

&lt;p&gt;The YaMma (Yet Another Mail Management Application) project aims at managing mails and emails. So we want a way to input emails into the repository, which is for instance an Alfresco one. Moreover, Alfresco provides IMAP support but it lacks one important feature -IMAPS, has one important bug -folder doesn't refresh quickly, a huge drawback -the necessity to configure a new IMAP account on each customer computer.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;To circumvent all these problems, there is a very simple solution, which only consists to create a folder, called Alfresco for example, in each already existing IMAP account of our customers. Then, we'll just need to synchronize this one with the existing IMAP account each customer has. We avoid the 3 previous drawbacks:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;no security hole: imapsync supports SSL so by using it on my Alfresco server, I can connect to host1 with IMAPS and to host2 with IMAP through localhost which is safe&lt;/li&gt;
&lt;li&gt;my Alfresco folder is always updated like my other mail folders, no refresh problem anymore&lt;/li&gt;
&lt;li&gt;no need to install anything on the customer's computer&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Which Software?&lt;/h1&gt;

&lt;p&gt;I had a look at imap synchronization software. I noticed isync and imapsync:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;iSync was interesting but there was a final bug preventing me to make things work&lt;/li&gt;
&lt;li&gt;imapsync made finally the job but the final solution needed a few hours to get everything ok. So, here is the solution.&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Installation&lt;/h1&gt;

&lt;p&gt;First, make :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;apt-get install imapsync&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This will install the required libraries for imapsync. Then, go on fedorahosted and get the last available imapsync version (1.434 the 2011-05-25).&lt;/p&gt;

&lt;p&gt;If you are using debian Squeeze, imapsync seems not to be available anymore. Don't worry, just add the following into your /etc/apt/sources.list to use the package available for lenny:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;deb http://ftp.debian.org/debian lenny main contrib
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then update your sources with the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-get update
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then just do:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tar xzvf imapsync-xxx.tgz
cd imapsync-xxx
perl -MCPAN -e shell
install Mail::IMAPClient
make install
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Synchronization&lt;/h1&gt;

&lt;p&gt;It's now time to write a little script, called for example imapsync.sh, to make the migration occur. Note that host2 is the server where my Alfresco server resides. On host1 resides my IMAP server with my mailbox. I created an Alfresco folder in it and I only synchronized this one.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;!/bin/sh
imapsync \
       -host1 yourhost1 -ssl1 -user1 mylogin@bluexml.com -passfile1 pass1.txt -folder INBOX.Alfresco \
       -host2 localhost -prefix2 &quot;INBOX/&quot; -sep2 &quot;/&quot; -user2 myLoginOnAlfresco -passfile2 pass2.txt \
       -useheader Subject -useheader Date \
       -noauthmd5 -syncinternaldates
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you want some debug information, just add debug debugimap.&lt;/p&gt;

&lt;p&gt;Finally, just type the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sh imapsync.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you make a man imapsync, you'll find a very interesting script to synchronize a set of mailboxes with different users and passwords. The script may be very easily updated to indicate also the folder you want to synchronize.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Observer Pattern Server Side Implementation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/25/Observer_Pattern_Server_Side_Implementations"/>
   <updated>2011-02-25T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/25/Observer_Pattern_Server_Side_Implementations</id>
   <content type="html">&lt;p&gt;You just discovered Observer pattern in javascript on the client, and we already talk about server side implementations.&lt;/p&gt;

&lt;h1&gt;What does server side implementation add?&lt;/h1&gt;

&lt;p&gt;This means that once you developed the Observer pattern on your client side application, you can very easily extend it to provide easy and widespread messaging interop among languages, platforms and brokers. This basically means you can communicate messages to a lot of others users.&lt;/p&gt;

&lt;p&gt;Server side implementation may be done through CometD, which is now part of dojo, which enable you to build very simple chat application for the most straight forward use case.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;When writing these posts, I found the following resources which may be of interest:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://almaer.com/blog/enjoying-the-observer-pattern-with-custom-events&lt;/li&gt;
&lt;li&gt;http://stackoverflow.com/questions/390740/messaging-queues-and-esbs-i-know-where-i-want-to-be-but-not-how-to-get-there&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Observer Pattern multi framework implementation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/24/Observer_Pattern_Multi_Framework_Implementation"/>
   <updated>2011-02-24T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/24/Observer_Pattern_Multi_Framework_Implementation</id>
   <content type="html">&lt;p&gt;We have seen in the previous posts how to use Observer Pattern in dojo and jQuery. But first, why do we bother at building such a unified solution?&lt;/p&gt;

&lt;p&gt;Why such a requirement?&lt;/p&gt;

&lt;p&gt;I have 2 main reasons:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I can use it the same way whatever the context I am in. I don't want to remember the specific syntax for a specific framework. It makes code understandability easier.&lt;/li&gt;
&lt;li&gt;I can work simultaneously with various frameworks.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For example, in Alfresco Share, I wrote a code snippet to use dojo in the document-details view to extend the way meta data are displayed in a more friendly UI. But this extension uses dojo and Alfresco Share is based on Y!UI. So I need to interact from Y!UI with dojo and vice-versa. Architecture may evolve and I could need to interact with jquery components, so such an Observer implementation may help.&lt;/p&gt;

&lt;p&gt;In short:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;one publish will forward the publish on all the available Observer implementation&lt;/li&gt;
&lt;li&gt;one subscribe will subscribe the component on all the available Observer implementation&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Moreover by this way I can add specific code for debugging purposes.&lt;/p&gt;

&lt;h1&gt;Observer Implementation&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;Observer = {
        log: new log4javascript.getLogger(&quot;SIDE.Observer&quot;),

        subscribe: function(channel, subscriber) {
                if (Observer.log.isDebugEnabled()) {
                        Observer.log.debug(&quot;Observer - Subscribing&quot;);
                        Observer.log.debug(&quot;Channel : &quot; + channel);
                }
                // Dojo
                dojo.subscribe(channel, subscriber);
                // jQuery
                document.bind(channel, subscriber);
                // Y!UI, ExtJS, ...
        },

        publish: function(channel, message) {
                if (Observer.log.isDebugEnabled()) {
                        Observer.log.debug(&quot;Observer - Publishing&quot;);
                        Observer.log.debug(&quot;Channel : &quot;, channel);
                        Observer.log.debug(&quot;Message : &quot;, message[0]);
                }
                // Dojo
                dojo.publish(channel, message);
                // jQuery
                document.trigger(channel, message);
                // Y!UI, ExtJS, ...
        }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For the use of log4javascript, please refer to my previous post.&lt;/p&gt;

&lt;p&gt;Any comments?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Observer Pattern jQuery usage</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/23/Observer_Pattern_jQuery_usage"/>
   <updated>2011-02-23T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/23/Observer_Pattern_jQuery_usage</id>
   <content type="html">&lt;p&gt;If I take the example back, I just have to add the js corresponding to jQuery. I finally get the following html page:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
        &amp;lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
        &amp;lt;div id=&quot;menu&quot;&amp;gt;
                        &amp;lt;h1&amp;gt;Menu&amp;lt;/h1&amp;gt;
                &amp;lt;ul&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:OldWay()&quot;&amp;gt;Old way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:ObserverWay()&quot;&amp;gt;Observer way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                &amp;lt;/ul&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;contentPortlet&quot;&amp;gt;
                &amp;lt;h1&amp;gt;Content&amp;lt;/h1&amp;gt;
                &amp;lt;div id=&quot;content&quot;&amp;gt;&amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;metadataPortlet&quot;&amp;gt;
                &amp;lt;h1&amp;gt;Detail&amp;lt;/h1&amp;gt;
                &amp;lt;div id=&quot;metadata&quot;&amp;gt;&amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I now add the event mechanism through the use of the bind and trigger functions.&lt;/p&gt;

&lt;p&gt;The bind action takes 2 arguments:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;the event name&lt;/li&gt;
&lt;li&gt;the function to call&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The following code snippet will make the contentPortlet listen to the info event:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;doc.bind('info', contentPortlet);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;An event is triggered by simply calling the trigger action with the event name, with optional parameters:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;doc.trigger('info', 'View Updated Through The Old Way');
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;

        var doc = $(document); // just a shortcut

        var contentPortlet = function(event, message) {
                // replace the content div by the message received
                // when the event has been triggered
                $('#content').html('Content ' + message);
        }

        var metadataPortlet = function(event, message) {
                // replace the metadata div by the message received
                // when the event has been triggered
                $('#metadata').html('Metadata ' + message);
        }

        doc.bind('info', contentPortlet);
        doc.bind('info', metadataPortlet);

        function ObserverWay() {
                doc.trigger('info', 'View Updated Through The Old Way');
        }

&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you noticed, all these components are coupled in a very agile way. We could configure (bind) content and metadata portlets so they listen to other events.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Observer Pattern dojo usage</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/22/Observer_Pattern_dojo_usage"/>
   <updated>2011-02-22T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/22/Observer_Pattern_dojo_usage</id>
   <content type="html">&lt;p&gt;Let's take our previous code and replace jQuery mechanism by dojo:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;replace jquery lib by dojo lib&lt;/li&gt;
&lt;li&gt;replace bind by subscribe&lt;/li&gt;
&lt;li&gt;replace trigger by publish&lt;/li&gt;
&lt;li&gt;replace jquery sugar by dojo one&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Then transform the parameter passed when the trigger is fired as an array:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;'View Updated Through The Old Way' becomes 'View Updated Through The Old Way'&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and remove the event from the content and metadata portlet. You don't need them anymore. If required, you can forward them in the parameters when the event is triggered.&lt;/p&gt;

&lt;p&gt;You now have the following code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
        &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

        &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;

                var doc = document;

                var contentPortlet = function(message) {
                        dojo.byId(&quot;content&quot;).innerHTML = 'Content ' + message;
                }

                var metadataPortlet = function(message) {
                        dojo.byId(&quot;metadata&quot;).innerHTML = 'Metadata ' + message;
                }

                dojo.subscribe('info', contentPortlet);
                dojo.subscribe('info', metadataPortlet);

                function OldWay() {
                   var content = document.getElementById('content');
                   var metadata = document.getElementById('metadata');

                   content.innerHTML = &quot;Content View Updated Through The Old Way&quot;;
                   metadata.innerHTML = &quot;Metadata View Updated Through The Old Way&quot;;
                }

                function ObserverWay() {
                        dojo.publish('info', ['View Updated Through The Old Way']);
                }

        &amp;lt;/script&amp;gt;

&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
        &amp;lt;div id=&quot;menu&quot;&amp;gt;
                        &amp;lt;h1&amp;gt;Menu&amp;lt;/h1&amp;gt;
                &amp;lt;ul&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:OldWay()&quot;&amp;gt;Old way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:ObserverWay()&quot;&amp;gt;Observer way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                &amp;lt;/ul&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;contentPortlet&quot;&amp;gt;
                &amp;lt;h1&amp;gt;Content&amp;lt;/h1&amp;gt;
                &amp;lt;div id=&quot;content&quot;&amp;gt;&amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;metadataPortlet&quot;&amp;gt;
                &amp;lt;h1&amp;gt;Detail&amp;lt;/h1&amp;gt;
                &amp;lt;div id=&quot;metadata&quot;&amp;gt;&amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Any comments?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Observer Pattern Comparison Beetween jQuery, Dojo and YUI</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/21/Observer_Pattern_Comparison_Beetween_jQuery%2C_Dojo_and_YUI"/>
   <updated>2011-02-21T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/21/Observer_Pattern_Comparison_Beetween_jQuery,_Dojo_and_YUI</id>
   <content type="html">&lt;h1&gt;Observer Pattern: The Graal of The Developer&lt;/h1&gt;

&lt;p&gt;In a very few words, this pattern enables to build agile software architecture by decoupling objects which produce information and objects which consume it. For example, it is really useful to update user interfaces after an event happens.&lt;/p&gt;

&lt;p&gt;First, we're going to deal with a very simple use case and provide a solution without and with this pattern (based on an algorithmic solution) to describe the problem
Then, we'll provide a concrete solution in jQuery, Dojo and Y!UI to be able to compare them
Then, we'll suggest a unified approach so we can use observer mechanism in an application with all these 3 frameworks. This solution can be extended to use other frameworks too.
At last, we'll conclude with a few thoughts about server-side observer implementation like Cometd
This approach will finally be used at the end of the tutorial to customize the metadata component of the document details page in Alfresco Share.&lt;/p&gt;

&lt;h1&gt;The Use Case&lt;/h1&gt;

&lt;p&gt;Let's imagine we have 3 components in an html page. These components are 3 divs named menu, content and details. We have in the menu an action to update menu and details:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;
&amp;lt;body&amp;gt;
        &amp;lt;div id=&quot;menu&quot;&amp;gt;
                &amp;lt;ul&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:OldWay()&quot;&amp;gt;Old way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;javascript:ObserverWay()&quot;&amp;gt;Observer way&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
                &amp;lt;/ul&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;content&quot;&amp;gt;Content&amp;lt;/div&amp;gt;
        &amp;lt;div id=&quot;metadata&quot;&amp;gt;Detail&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;The solution without Observer Pattern&lt;/h1&gt;

&lt;p&gt;To achieve the requirements, you would write the OldWay javascript function like that:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function OldWay() {

   var content = document.getElementById('content');
   var metadata = document.getElementById('metadata');
   content.innerHTML = &quot;Content View Updated Through The Old Way&quot;;
   metadata.innerHTML = &quot;Metadata View Updated Through The Old Way&quot;;
   alert(&quot;Success&quot;);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This solution works very well but as you noticed, the OldWay function must know the components to update. It is a very annoying point. Our components are strongly coupled: it's a very bad design.&lt;/p&gt;

&lt;h1&gt;The Observer Pattern Based Solution&lt;/h1&gt;

&lt;p&gt;The following lines are not true code, rather alogrithmic ones.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function ObserverWay() {

   Publish(&quot;/info&quot;, &quot;update&quot;)
}

function UpdateContent() {

   content.innerHTML = &quot;Content Updated Through The Old Way&quot;;
}

function UpdateMetadata() {

   content.innerHTML = &quot;Content Updated Through The Old Way&quot;;
}

Subscribe(&quot;/info&quot;, UpdateContent()); Subscribe(&quot;/info&quot;, UpdateMetadata());
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We now have 3 functions, completely independant:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;one publisher, ObserverWay, which produces some information&lt;/li&gt;
&lt;li&gt;two consumers, UpdateContent and UpdateMetadata, which consume information&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The communication beetween producers and consumers is done through the info channel on which the first publishes some information while the others subscribe (or listen) to it.&lt;/p&gt;

&lt;p&gt;In this architecture, if we add a new component, it just has to subscribe to the channels it is interested with, without disturbing the architecture.&lt;/p&gt;

&lt;p&gt;We'll see next time the unified approach I suggest to use.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fuse and OpenVZ</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/01/Fuse_and_OpenVZ"/>
   <updated>2011-02-01T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/02/01/Fuse_and_OpenVZ</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;To be able to use mount.davfs, I need to install fuse.&lt;/p&gt;

&lt;p&gt;My problem is I'm on a virtual machine, based on OpenVZ.&lt;/p&gt;

&lt;h1&gt;Problem&lt;/h1&gt;

&lt;p&gt;When installing fuse-utils through apt-get, everything went fine but mount.davfs doesn't work and give a short: /sbin/mount.davfs: can't open /dev/fuse&lt;/p&gt;

&lt;p&gt;This process works smoothly on a virtual machine based on Fully Virtualized (KVE) but not on an OpenVZ&lt;/p&gt;

&lt;h1&gt;Diagnostic&lt;/h1&gt;

&lt;p&gt;In OpenVZ, in contrast with KVE, virtual machines share with host node kernel modules and devices. This means 2 important hings:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;the host node must have any module you want to use on virtual machines&lt;/li&gt;
&lt;li&gt;the host node must create devices and give permissions to virtual machines to use them&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;So, I needed, where $CTID is the container ID:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;to install fuse-utils on host node: apt-get install fuse-utils&lt;/li&gt;
&lt;li&gt;to install fuse-utils on the required container&lt;/li&gt;
&lt;li&gt;to create device on the host node through the following command: vzctl set $CTID --devnodes fuse:rw&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;And finally, for the new module to be available, restart the container:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vzctl restart $CTID
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Problem&lt;/h1&gt;

&lt;p&gt;The problems you may have are often related to /dev/fuse. You can have:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/sbin/mount.davfs: /dev/fuse: permission denied&lt;/li&gt;
&lt;li&gt;/sbin/mount.davfs: can't open /dev/fuse&lt;/li&gt;
&lt;li&gt;/SBIN/MOUNT.DAVFS: /DEV/FUSE: PERMISSION DENIED&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Your user is generally not in the right group, so add your user into fuse group and chmod 660 /dev/fuse. Ask google, a lot of people had this problem and solved it quickly (see 1).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/SBIN/MOUNT.DAVFS: CAN'T OPEN /DEV/FUSE&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You probably first installed fuse on the virtual machine and the /dev/fuse device has so been created by your virtual machine but, as stated before, all kernel modules and devices are shared beetween the host node and containers. You can see it, with the right group and set of permissions, but you can't open it.&lt;/p&gt;

&lt;p&gt;You absolutely need to create the device in the Host Node. To do so, just remove it from the container (it means your virtual machine) with a plain &quot;rm /dev/fuse&quot; and create in the host node the corresponding /dev/fuse:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vzctl set $CTID devices c:10:229:rw save
vzctl exec $CTID mknod /dev/fuse c 10 229
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you now look into /etc/vz/conf/$CTID.conf, you will see the following new line:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVNODES=&quot;fuse:rw &quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Restart your container:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vzctl restart $CTID
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And, miracle, everything will run smoothly :-)&lt;/p&gt;

&lt;h1&gt;Resources&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;http://www.nullamatix.com/fixed-fuse-failed-open-dev-fuse-permission-denied/&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Reduce PDF size after 300ppp and color scan.md</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/13/Reduce_PDF_size_after_300ppp_and_color_scan"/>
   <updated>2011-01-13T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/13/Reduce_PDF_size_after_300ppp_and_color_scan</id>
   <content type="html">&lt;h1&gt;Use Case&lt;/h1&gt;

&lt;p&gt;To manage paper documents in YaMma (Yet Another Mail Management Application), I do the following actions:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;scan 24bits-colors, 300ppp for good quality&lt;/li&gt;
&lt;li&gt;process them to ocr&lt;/li&gt;
&lt;li&gt;reduce their size&lt;/li&gt;
&lt;li&gt;create a pdf with the text from ocr embedded into the pdf&lt;/li&gt;
&lt;li&gt;For a document of 17 pages, its size is about 170Mo after such a scan. While this quality is interesting for OCR, there are about 10K documents into the company intranet and I can't put a file with such a size into my content repository...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the need for a solution to reduce the size of the document.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;I can choose and configure my output from my scan:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;quality (100, 200, 300, 600, 1200ppp)&lt;/li&gt;
&lt;li&gt;color (B&amp;amp;W, 8, 16, 24 bits color)&lt;/li&gt;
&lt;li&gt;output type (pdf, image, ...)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I generally choose PDF output, 300ppp, 24 bits color and my scanner (a very cheap Brother DCP6690CW) finally creates such a file after creating a TIFF file for each page and concatenating them all together.&lt;/p&gt;

&lt;p&gt;To reduce file size, I then can:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;reduce all TIFF files through convert (ImageMagick) and concatenate them into a pdf one&lt;/li&gt;
&lt;li&gt;directly reduce PDF file through ghostscript (gs)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;By following this second option (I haven't studied the first one), I'm able to easily get a PDF file of about 1-3Mo with an enough good quality to have a correct reading.&lt;/p&gt;

&lt;h1&gt;Usage&lt;/h1&gt;

&lt;p&gt;Just get a ghostscript installation for your system. Then choose the quality you are looking for (screen &amp;lt; ebook &amp;lt; prepress, ...)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/screen -dNOPAUSE -dQUIET -dBATCH -sOutputFile=output.pdf input.pdf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/ebook -dNOPAUSE -dQUIET -dBATCH -sOutputFile=output.pdf input.pdf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can specify options for better quality or to produce PDF/X or PDF/A. Just have a look at the gs options on the manual. For a 160Mo PDF file, you will finally get a 1Mo file with screen option and 3Mo file with ebook one. Ebook quality is really better.&lt;/p&gt;

&lt;h1&gt;Pointers&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;http://www.ubuntugeek.com/ubuntu-tiphowto-reduce-adobe-acrobat-file-size-from-command-line.html&lt;/li&gt;
&lt;li&gt;http://pages.cs.wisc.edu/~ghost/doc/cvs/Ps2pdf.htm&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>QRCode</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/13/QR_Code"/>
   <updated>2011-01-13T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/13/QR_Code</id>
   <content type="html">&lt;h1&gt;Introduction to zxing.org&lt;/h1&gt;

&lt;p&gt;I just discovered zxing.org a few days ago. It's an interesting tool to generate and analyze bar code and QR Codes.&lt;/p&gt;

&lt;p&gt;A QRCode stands for Quick Response Code and aims at replacing bar codes in the future. Here is an example of QRCode:&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;center&quot; src=&quot;http://www.myxph.com/photos/29315-qr-code-barcode-example-ets.png&quot; width=&quot;100px&quot; height=&quot;100px&quot;/&gt;&lt;/p&gt;

&lt;h1&gt;Advantages on bar codes&lt;/h1&gt;

&lt;p&gt;Bar code stores information in one dimension. QR Code stores information on 2 dimensions. You then can store more information, and this one ay be redundant so if your QRCode isn't complete, you can still get the information.&lt;/p&gt;

&lt;h1&gt;Download and compile&lt;/h1&gt;

&lt;p&gt;Just get the source on the svn server and compile core and javase modules. It's enough to use the command to extract the information from a QRCode&lt;/p&gt;

&lt;h1&gt;Test&lt;/h1&gt;

&lt;p&gt;By using the following command, you can extract the information stored into it a QRCode:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -cp javase/javase.jar:core/core.jar com.google.zxing.client.j2se.CommandLineRunner &quot;http://chart.apis.google.com/chart?cht=qr&amp;amp;chs=230x230&amp;amp;chl=MECARD%3AN%3AJean-Christophe+Kermagoret%3BTEL%3A%2B33240466278%3BURL%3Ahttp%3A%2F%2Fwww.bluexml.com%3BEMAIL%3Ajck-qrcode%40bluexml.com%3BADR%3A40%2C+bd+Jean+Ingres+44100+Nantes%3B%3B&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will give you the following results:&lt;/p&gt;

&lt;p&gt;Raw result:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;MECARD:N:Jean-Christophe Kermagoret;TEL:+33240466278;URL:http://www.bluexml.com;EMAIL:jck-qrcode@bluexml.com;ADR:40, bd Jean Ingres 44100 Nantes;;
Parsed result:
Jean-Christophe Kermagoret
40, bd Jean Ingres 44100 Nantes
+33240466278
jck-qrcode@bluexml.com
http://www.bluexml.com
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also, there were 4 result points.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Point 0: (39.0,191.0)
Point 1: (39.0,39.0)
Point 2: (191.0,39.0)
Point 3: (179.0,179.0)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can then parse the results very easily to take the right decision.&lt;/p&gt;

&lt;h1&gt;YaMma Use Case&lt;/h1&gt;

&lt;p&gt;I'm going to use this QRCode to add information manually on paper documents for the next version of the YaMma open source project, based on Alfresco, which deals with mail (paper and electronic) management. The document can then be acquired and analyzed through an OCR to get the previous information. If quality isn't enough, you can add the --try_harder parameter. The document will then be automatically filed into the right directory of your file plan.&lt;/p&gt;

&lt;h1&gt;Mobile Use Case&lt;/h1&gt;

&lt;p&gt;You can also use your phone mobile to extract the information. Install the i-nigma application on your iPhone and scan the QRCode above. You'll almost instantly get the information.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>OpenVZ and disk share with volume group and logical volumes</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/10/OpenVZ_and_disk_share_with_volume_group_and_logical_volumes"/>
   <updated>2011-01-10T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-jckermagoret/2011/01/10/OpenVZ_and_disk_share_with_volume_group_and_logical_volumes</id>
   <content type="html">&lt;h1&gt;Use case&lt;/h1&gt;

&lt;p&gt;I have a virtual system with a main host and various virtual machines. I want these virtual machines to have some directories shared with the main host so the backup will be easier.&lt;/p&gt;

&lt;h1&gt;Solution&lt;/h1&gt;

&lt;p&gt;I mount a directory on my main host into the virtual machine. To be the more flexible possible, the mounted directory is based on a logical volume I can increase or decrease according to my needs.&lt;/p&gt;

&lt;h1&gt;Implementation&lt;/h1&gt;

&lt;p&gt;On your main host, create a logical volume and format it. For example, if you have a volume group called data, you could do this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;lvcreate -L20G -n vz106 data
mkfs.ext3 /dev/data/vz106
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This creates a /dev/data/vz106, which corresponds to a 20GB disk, on your system. This new disk can now be mounted on a directory which is inside one of your container:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mount -n --bind /data/vz/106 /var/lib/vz/root/106/data
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To make everything automatic during the reboot, you can create corresponding files in your /etc/vz directory. On my system, I have:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/etc/vz/conf/106.mount:

/etc/vz/106.unmount:
&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>SIDE Process Customization</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2010/09/13/side-ant-builder"/>
   <updated>2010-09-13T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2010/09/13/side-ant-builder</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;The main SIDE process can be described as following :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Models validation (optional)&lt;/li&gt;
&lt;li&gt;Clean generation folder (optional)&lt;/li&gt;
&lt;li&gt;Run all selected generators&lt;/li&gt;
&lt;li&gt;Run all selected deployers&lt;/li&gt;
&lt;li&gt;Generate a report&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But users may have something to customize in this process to fit his needs.&lt;/p&gt;

&lt;p&gt;For examples :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;User may want to add some packages in right folder before deployment.&lt;/li&gt;
&lt;li&gt;Start or stop some process before or after deployment (stop alfresco before deployment, and start it after deployment)&lt;/li&gt;
&lt;li&gt;Override some generated files with his owns.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We can imagine many use case where user need to customize SIDE process.&lt;/p&gt;

&lt;p&gt;To response to these requirements, main SIDE actions can be launched from Eclipse Ant runner.&lt;/p&gt;

&lt;h1&gt;SIDE Process Tasks&lt;/h1&gt;

&lt;h2&gt;Task : side.validate&lt;/h2&gt;

&lt;p&gt;This task can be use to validate models listed in the application file&lt;/p&gt;

&lt;p&gt;Parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;applicationfile: path to the application model&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.validate&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;             applicationfile=&quot;${applicationFile}&quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task : side.clean&lt;/h2&gt;

&lt;p&gt;This task delete file in generation folders&lt;/p&gt;

&lt;p&gt;Parameters :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;applicationfile: path to the application model&lt;/li&gt;
&lt;li&gt;&lt;p&gt;configurationname: the configuration name to use&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.clean&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;             applicationfile=&quot;${applicationFile}&quot;
             configurationname=&quot;${configurationName}&quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task : side.generate&lt;/h2&gt;

&lt;p&gt;This task call a generator, configuration are extracted from application file&lt;/p&gt;

&lt;p&gt;Parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;applicationfile: path to the application model&lt;/li&gt;
&lt;li&gt;configurationname: the configuration name to use&lt;/li&gt;
&lt;li&gt;componantid: the generator identifier&lt;/li&gt;
&lt;li&gt;generate: &lt;nowiki&gt;[true|false]&lt;/nowiki&gt; enable or disable file generation, default=true&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pack: &lt;nowiki&gt;[true|false]&lt;/nowiki&gt; enable or disable files packaging, default=true&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.generate&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;             applicationfile=&quot;${application}&quot;
             configurationname=&quot;${configurationName}&quot;                             componantid=&quot;com.bluexml.side.Class.generator.alfresco.extension.sideEnterprise&quot;
             pack=&quot;false&quot;
             generate=&quot;true&quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task : side.deploy&lt;/h2&gt;

&lt;p&gt;This task calls a deployer.&lt;/p&gt;

&lt;p&gt;Parameters :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;applicationfile : path to the application model&lt;/li&gt;
&lt;li&gt;configurationname : the configuration name to use&lt;/li&gt;
&lt;li&gt;&lt;p&gt;componantid : the generator identifier&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.deploy&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;             applicationfile=&quot;${application}&quot;
             configurationname=&quot;${configurationName}&quot;
             componantid=&quot;com.bluexml.side.Deployer.xformsDirectCopy&quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task : side.report&lt;/h2&gt;

&lt;p&gt;This task generates an XML/HTML report listing actions made by SIDE process.&lt;/p&gt;

&lt;p&gt;Parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;applicationfile: path to the application model&lt;/li&gt;
&lt;li&gt;&lt;p&gt;configurationname: the configuration name to use&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.report&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;             applicationfile=&quot;${application}&quot;
             configurationname=&quot;${configurationName}&quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;SIDE Ant build file generation&lt;/h1&gt;

&lt;p&gt;An action on contextual menu for application files, called &quot;Generate Ant build file&quot;, can be used to generate a SIDE build file that use application file as configuration and contains target for each configuration.&lt;/p&gt;

&lt;p&gt;This can be used to create a build file to start from to create custom process.&lt;/p&gt;

&lt;h2&gt;Using SIDE Ant Tasks&lt;/h2&gt;

&lt;p&gt;We developed SIDE Ant Tasks to enable easy SIDE Process customization. Let's explain it through a quick example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You have a SIDE project with a data model, SIDE Enterprise generate extension for Alfresco, but defaults generated messages must be customized.&lt;/li&gt;
&lt;li&gt;You will need to override generated files by your owns.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From Application model:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Click on &quot;Generate Ant build file&quot; from contextual menu. A build.xml file is created.&lt;/li&gt;
&lt;li&gt;Click on &quot;run as/Ant Build ...&quot; from this build file to run one of application configuration.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Be aware &lt;u&gt;to set the right JRE&lt;/u&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Go in JRE tab&lt;/li&gt;
&lt;li&gt;Select &quot;'''run in the same JRE as the workspace'''&quot; to allow ant to have access to eclipse and side ant task.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If everything goes well, you can now customize build file:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Deactivate packaging on generator: Edit build.xml, locate &amp;lt; side.generator tasks and add/set &quot;pack&quot; property to false&lt;/li&gt;
&lt;li&gt;Launch ant build&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Locate in temporary folders the file you want to override:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Create a property to indicate the parent directory, another to indicate the folder that contains yours files.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Presently, generators only create files in temporary folders. You can add your own custom ant task. Before deployer execution, you can call side.generate with pack=true generate=false, so this task will take files in temporary folder as is and build packages&lt;/p&gt;

&lt;p&gt;To override some files, follow this example :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;source lang=&quot;xml&quot;&amp;gt;
&amp;lt;side.generate applicationfile=&quot;${application}&quot; configurationname=&quot;AbsenceManagement&quot; componantid=&quot;com.bluexml.side.Class.generator.alfresco.extension.sideEnterprise&quot; pack=&quot;false&quot;/&amp;gt;

&amp;lt;eclipse.convertPath property=&quot;my.files&quot; resourcepath=&quot;/abs/customFiles/AbsenceManagement_Model&quot;/&amp;gt;

&amp;lt;eclipse.convertPath property=&quot;generator.temp&quot; resourcepath=&quot;/abs/build/generated/generator_com.bluexml.side.clazz.generator.alfresco.extension.sideenterprise.AlfrescoGenerator/AbsenceManagement_Model&quot;/&amp;gt;

&amp;lt;copy todir=&quot;${generator.temp}/&quot; overwrite=&quot;true&quot; verbose=&quot;true&quot;&amp;gt;
    &amp;lt;fileset dir=&quot;${my.files}/&quot;&amp;gt;
        &amp;lt;include name=&quot;**/*.*&quot;/&amp;gt;
    &amp;lt;/fileset&amp;gt;
&amp;lt;/copy&amp;gt;

&amp;lt;side.generate applicationfile=&quot;${application}&quot; configurationname=&quot;AbsenceManagement&quot; componantid=&quot;com.bluexml.side.Class.generator.alfresco.extension.sideEnterprise&quot; generate=&quot;false&quot;/&amp;gt;

&amp;lt;/source&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In summary, to override generated files:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Make a copy in build.xml of the generate task that create the file&lt;/li&gt;
&lt;li&gt;Add pack=false in the first copy (this task only generate)&lt;/li&gt;
&lt;li&gt;Add generate=false on the second (this task only package)&lt;/li&gt;
&lt;li&gt;Add your custom code between the generation task and the package task.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But it's also possible, before deploying tasks, to patch zip and amp files. So you don't need to know anything about generators. You can do as you wish.&lt;/p&gt;

&lt;h1&gt;SIDE reverse content model Task&lt;/h1&gt;

&lt;h2&gt;side.reverse.alfresco.model&lt;/h2&gt;

&lt;p&gt;Parameters :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;output: absolute path to directory where to write reversed models&lt;/li&gt;
&lt;li&gt;failonerror: set the ant build to fail if error occur true, false, default if true&lt;/li&gt;
&lt;li&gt;verbose: enable/disable full log output&lt;/li&gt;
&lt;li&gt;fileset: use fileset element to select alfresco content model files and optionally some additional dt model to use to resolve references&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This example shows how to define a reverse of customs alfresco models, using reversed native alfresco models as references&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;source lang=&quot;xml&quot;&amp;gt;
&amp;lt;side.reverse.alfresco.model output=&quot;/Users/bluexml/workspace/myProject/out&quot;
failonerror=&quot;false&quot; verbose=&quot;false&quot;&amp;gt;
    &amp;lt;fileset dir=&quot;/Users/bluexml/workspace/myProject/alfresco/models&quot;&amp;gt;
        &amp;lt;include name=&quot;*.xml&quot; /&amp;gt;
    &amp;lt;/fileset&amp;gt;
    &amp;lt;fileset dir=&quot;/Users/bluexml/workspace/runtime-allplugins/Model-library-Alfresco-3.4.d-CE/data&quot;&amp;gt;
        &amp;lt;include name=&quot;*.dt&quot;/&amp;gt;
    &amp;lt;/fileset&amp;gt;
&amp;lt;/side.reverse.alfresco.model&amp;gt;
&amp;lt;/source&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;SIDE model Initialization Tasks&lt;/h1&gt;

&lt;h2&gt;Task: side.initialize.all&lt;/h2&gt;

&lt;p&gt;This task is the same than the one from dt file -&gt; SIDE/Initialize action&lt;/p&gt;

&lt;p&gt;Parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;alfrescoversion : ALFRESCO_34D_CE, ALFRESCO_32R2_CE&lt;/li&gt;
&lt;li&gt;tomcathome : absolute path to the tomcat directory&lt;/li&gt;
&lt;li&gt;&lt;p&gt;model workspace relative path to the dt model&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.initialize.all alfrescoversion=&quot;ALFRESCO_34D_CE&quot; tomcathome=&quot;/Users/bluexml/servers/alfresco-community-3.4.d/tomcat&quot;
   model=&quot;/TestSIDEAntTasks/src/models/data/testAnt.dt&quot;/&gt;
  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task: side.initialize.workflowForm&lt;/h2&gt;

&lt;p&gt;This task is the same than the one from dt file -&gt; SIDE/Initialize action&lt;/p&gt;

&lt;p&gt;Parameters :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;model: workspace relative path of your workflow model&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.initialize.workflowForm model=&quot;/TestSIDEAntTasks/src/models/workflow/DefaultName.workflow&quot; /&gt;
  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task: side.initialize.application&lt;/h2&gt;

&lt;p&gt;This task is the same than the one from dt file -&gt; SIDE/Initialize action&lt;/p&gt;

&lt;p&gt;Parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;model: the application model file path (must be in the current Eclipse workspace)&lt;/p&gt;

&lt;p&gt;  &lt;source lang=&quot;xml&quot;&gt;
  &amp;lt;side.initialize.application model=&quot;/eclipseProject/src/models/application/my.application&quot; /&gt;
  &lt;/source&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Task: side.initialize.all&lt;/h2&gt;

&lt;p&gt;This task is the same than the one from dt file -&gt; SIDE/Initialize action&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Share Language Picker</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-lchevalier/2010/06/15/share-language-picker"/>
   <updated>2010-06-15T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-lchevalier/2010/06/15/share-language-picker</id>
   <content type="html">&lt;h1&gt;Goal&lt;/h1&gt;

&lt;p&gt;This module aims to extend the language selection in Alfresco Share. Natively, there is one way by switching preferred language at your browser level. ShareLanguagePicker adds 2 programmatic ways to do it and provides a dashlet to switch by clicking...&lt;/p&gt;

&lt;h1&gt;Language determination sequence&lt;/h1&gt;

&lt;p&gt;Here is the new priority sequence for language determination in Share :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;In the URI by specifying a GET parameter : shareLang. The value is copied in a session variable.
Ex: localhost:8080/share/page/user/admin/dashboard?'''shareLang=fr_FR'''&lt;/li&gt;
&lt;li&gt;In the session variable '''shareLang''' if nothing passed in the URI.&lt;/li&gt;
&lt;li&gt;If there's no parameter in the URI and no shareLang variable in the session, the native operation applies, as your browser preference is satisfied.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This new selection schema is due to the customization of the original pageRenderer component (DispatcherServlet =&gt; CustomDispatcherServlet). The activation of this new pageRenderer implies a modification in web.xml (in the webapp &quot;share&quot;) :&lt;/p&gt;

&lt;h1&gt;Implementation&lt;/h1&gt;

&lt;p&gt;Original extract :&lt;/p&gt;

&lt;p&gt;   &lt;!-- The Web Framework Dispatcher Servlet --&gt;
   &lt;servlet&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  &amp;lt;servlet-name&amp;gt;pageRendererServlet&amp;lt;/servlet-name&amp;gt;
  &amp;lt;servlet-class&amp;gt;org.alfresco.web.site.servlet.DispatcherServlet&amp;lt;/servlet-class&amp;gt;
  &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;   &lt;/servlet&gt;&lt;/p&gt;

&lt;p&gt;Customized extract of web.xml&lt;/p&gt;

&lt;p&gt;   &lt;!-- The Web Framework Dispatcher Servlet --&gt;
   &lt;servlet&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  &amp;lt;servlet-name&amp;gt;pageRendererServlet&amp;lt;/servlet-name&amp;gt;
  '''&amp;lt;servlet-class&amp;gt;&amp;lt;font color=&quot;red&quot;&amp;gt;com.bluexml.side.Framework.alfresco.shareLanguagePicker.CustomDispatcherServlet&amp;lt;/font&amp;gt;&amp;lt;/servlet-class&amp;gt;'''
  &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;   &lt;/servlet&gt;&lt;/p&gt;

&lt;h1&gt;Result&lt;/h1&gt;

&lt;p&gt;The dashlet allows to switch language by clicking on the flag of your choice :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;languagePicker dashlet.jpg&quot;/&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Continuous Integration Build</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2010/06/03/continuous-integration-setup"/>
   <updated>2010-06-03T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2010/06/03/continuous-integration-setup</id>
   <content type="html">&lt;h1&gt;General Information&lt;/h1&gt;

&lt;p&gt;Key access links:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Source code Management SVN: svn.bluexml.com/svn/bluexml/com.&lt;/li&gt;
&lt;li&gt;Integration management Hudson: http://stager:8080&lt;/li&gt;
&lt;li&gt;Internal update-site: http://stager/share/Update-Site/SIDE-Alfresco/Ankle&lt;/li&gt;
&lt;li&gt;External update-site: http://www.bluexml.com/update-site&lt;/li&gt;
&lt;li&gt;External devel update-site: http://www.bluexml.com/update-site/SIDE/devel/&lt;/li&gt;
&lt;li&gt;Maven repository: http://stager:8081/nexus/index.html#view-repositories&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Credentials:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;login: build-auto&lt;/li&gt;
&lt;li&gt;password: build.auto&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Source Code Management&lt;/h1&gt;

&lt;p&gt;The source code of the S-IDE projects is stored under SVN:
* svn.bluexml.com/svn/bluexml/com.&lt;/p&gt;

&lt;p&gt;Access is protected by username (build-auto) and password (build.auto).&lt;/p&gt;

&lt;p&gt;In Eclipse, to change username and password you need to delete configuration/org.eclipse.core.runtime/.keyring&lt;/p&gt;

&lt;p&gt;A public access is given as update-site to download and install S-IDE Eclipse plug-in:
* Open source update-site : http://www.bluexml.com/update-site/SIDE/SIDE-Labs/2.0.0/
* Open source SVN : http://www.bluexml.com/svn/bluexml/SIDE-Labs/trunk/&lt;/p&gt;

&lt;p&gt;Credentials:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;login: build-auto&lt;/li&gt;
&lt;li&gt;&lt;p&gt;password: build.auto&lt;/p&gt;

&lt;p&gt;  Each plugin must contain at least one java class with a main method to be correctly built.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Automatic Integration&lt;/h1&gt;

&lt;p&gt;Automatic integration is based on the Hudson product:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;https://hudson.dev.java.net/.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Currently, a rule has been defined to build S-IDE components each night and to send emails to R&amp;amp;D team (QA, Dev, Doc, Integration) at the end of the nightly build process.&lt;/p&gt;

&lt;p&gt;Hudson is installed on pipin at : https://pipin.bluexml.com/hudson/&lt;/p&gt;

&lt;h1&gt;Build&lt;/h1&gt;

&lt;h2&gt;SIDE sources checkout/update&lt;/h2&gt;

&lt;p&gt;Manage error recovery by saving revision number before updating.
If error occurs, next build can recover the checked-out sources from saved revision number before updating.&lt;/p&gt;

&lt;h2&gt;Project versions updating&lt;/h2&gt;

&lt;p&gt;This step lists updated projects and compute impacted projects by changes according project dependencies. Finally update projects version and references to other projects.&lt;/p&gt;

&lt;h3&gt;configuration&lt;/h3&gt;

&lt;p&gt;All configuration is done in a properties file. This file is given as parameter when launch java application.&lt;/p&gt;

&lt;p&gt;Properties are:
* Copyright and Licence:
   - '''copyrightPath'''=/home/stager/buildAuto/copyright.txt : the path to the file that contains the text of the copyright
   - '''copyrightURL'''=http://url.to.copyright.com : the copyright url
   - '''licencePath'''=/home/stager/buildAuto/licence.txt : the path to the file that contains the text of the licence
   - '''licenceURL'''=http://url.to.licence.com : the licence url
 Version Number
   - '''number-pattern'''=n.n.u: The pattern for the version number  incrementation. For example like 1.0.12:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    * the first one indicates a major release of S-IDE
    * the second one a corrective package CP which contains bug fixes and minor enhancements
    * the third one indicates patches which contains bug fixes.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;   This pattern allows to increment(u), force(#) or do nothing(n) for each number. For instance:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    * the pattern 'n.n.u' indicates to only increment the third number to ship a patch.
    * the pattern 'n.u.n' indicates to only increment the second number to ship a corrective package.
    * the pattern '=.n.n' indicates to force the first number to ship a new major release with the number #:

        - current version 1.0.12 and pattern 'n.n.u' #&amp;gt; new version 1.0.13
        - current version 1.0.12 and pattern 'n.u.u' #&amp;gt; new version 1.1.0
        - current version 1.0.12 and pattern 'n.u.3' #&amp;gt; new version 1.1.3
        - current version 1.0.12 and pattern '2.0.0' #&amp;gt; new version 2.0.0
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt; '''forceNumberVersion''': Is used to give a common version number to all projects. You can use a pattern (like the '''number-patern'''). Keep the property empty to disable the force.&lt;/li&gt;
&lt;li&gt; '''project''': The list of all the projects to build. Don't forget the ',\' at the end of each line. the first part is the path of the project in the repository.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   You have to edit this list manually, every time you add or delete a project on the SVN. A sample of the S-IDE Ankle projects list is as follows :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; MetaModel/Application&amp;amp;com.bluexml.side.Application,\
 MetaModel/Application&amp;amp;com.bluexml.side.Application.deployer,\
 MetaModel/Application&amp;amp;com.bluexml.side.Application.deployer.alfresco, \
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt; '''project.enterprise''' : Exactly same thing than '''project''' but for listing Enterprise plugins and features&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Paths properties:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt; '''buildDir''': path to working directory (~/.hudson/jobs/Build_RCP_Community/buildAuto)&lt;/li&gt;
&lt;li&gt; '''codeName''': (Ankle)&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Launch version updater&lt;/h3&gt;

&lt;h2&gt;Deploy maven project on maven repository&lt;/h2&gt;

&lt;p&gt;Search maven project in SIDE sources, copy projects to match maven modules layout, and do mvn deploy.&lt;/p&gt;

&lt;h2&gt;Package maven repository to work offline&lt;/h2&gt;

&lt;p&gt;Packaging includes the following steps:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;SIDE product embeds a maven repository so it can be used off-line,&lt;/li&gt;
&lt;li&gt;SIDE plugins are scanned to extract module dependencies,&lt;/li&gt;
&lt;li&gt;Create and build a maven project that depends of all found projects&lt;/li&gt;
&lt;li&gt;Run mvn dependency:go-offline,&lt;/li&gt;
&lt;li&gt;Archive files into a SIDE Eclipse plugin&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;SIDE product Building&lt;/h2&gt;

&lt;p&gt;Eclipse PDE is used to build product based on features, this step is configured by setting properties file. Finally, Eclipse PDE produces archives for supported platforms and a P2 repository that can be used as update site.
The Builder is configured using a properties file which contains locations:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;'''builder''' = PDE builder working directory (${workspace}/work)&lt;/li&gt;
&lt;li&gt;'''baseLocation''' = Eclipse directory path&lt;/li&gt;
&lt;li&gt;'''deltapack''' = Eclipse deltapack path&lt;/li&gt;
&lt;li&gt;'''equinoxLauncherPluginVersion''' =1.0.101.R34x_v20081125 : Version of org.eclipse.equinox.launcher. You don't have to change this 3 parameters if you don't change the eclipse version and/or OS .&lt;/li&gt;
&lt;li&gt;'''eclipseLocation''' =/home/stager/buildAuto/eclipse : Used by the build.xml to find other build.xml&lt;/li&gt;
&lt;li&gt;'''product'''=./buildAuto.product : The path to the builAuto.product (don't change it)&lt;/li&gt;
&lt;li&gt;'''archivePrefix'''=Update-Site : the name of the Update-Site&lt;/li&gt;
&lt;li&gt;'''configs'''=linux, gtk, x86 : The list of {os, ws, arch} configurations to build. This value is a '&amp;amp;' separated list of ',' separate triples.  For example, configs#win32,win32,x86 &amp;amp; linux,motif,x86. For more informations, check the build.properties&lt;/li&gt;
&lt;li&gt;'''buildName'''=workingcopy : name of the working directory&lt;/li&gt;
&lt;li&gt;'''buildDir'''=/home/stager/buildAuto : Path of the working directory&lt;/li&gt;
&lt;li&gt;'''codeName'''=Ankle : Code name of the current project.&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Copy SIDE product build and P2 update site&lt;/h2&gt;

&lt;p&gt;Product builds are copied into directory outside job workspace.&lt;/p&gt;

&lt;h2&gt;Source commit&lt;/h2&gt;

&lt;p&gt;If no errors occurs at this time, source changes are committed. Saved revision number from last update is deleted.&lt;/p&gt;

&lt;h2&gt;HUDSON STEPS&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;The jobs ''Build S-IDE'' has been defined under hudson; the workspace of this jobs is stored ''/root/.hudson/jobs/Build_S-IDE/workspace''.&lt;/li&gt;
&lt;li&gt;First of all, Hudons make an update on the repository under /root/.hudson/jobs/Build_S-IDE/workspace/S-IDE&lt;/li&gt;
&lt;li&gt;The script ''prepare_workspace.sh'' is called, it prepare the workspace by copying all the script from the local copy of the repository to /home/stager/buildAuto/''codeName''&lt;/li&gt;
&lt;li&gt;''Build.jar'' is runned, it make the build:
&lt;strong&gt; SVN logs are analyzed (Hudson logs) to see which projects have changed
&lt;/strong&gt; The version number of this projects are incremented following the version number pattern
&lt;strong&gt; A commit is maked to save the new version numbers
&lt;/strong&gt; The build of each projects is made
&lt;strong&gt; The javadoc is made
&lt;/strong&gt; Temp folders and files are moved to the final folder&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Meta models documentation generation step&lt;/h3&gt;

&lt;p&gt;The script ''meta_model_generation_genration.sh'' is called, It makes the documentation of metamodels. It takes 7 parameters :&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;The path to hudson workspace, to retrieve up to date meta model's ecore files.&lt;/li&gt;
&lt;li&gt;The path to the plugins directory of the eclipse build that will be used for the generation.&lt;/li&gt;
&lt;li&gt;The path to to the update site last builded plugins directory, to retrieve the last builded version of the genererator.&lt;/li&gt;
&lt;li&gt;The absolute path to the workspace that will be used for the generation .&lt;/li&gt;
&lt;li&gt;The absolute path to the directory in the eclipse project in the workspace that contains metamodels file (copied from -1).&lt;/li&gt;
&lt;li&gt;The relative path (from -4)to local work directory in the workspace.&lt;/li&gt;
&lt;li&gt;The absolute path to the final target directory (where documentation as well as index.html refering to them will be copied).&lt;/li&gt;
&lt;/ol&gt;


&lt;h3&gt;Publishing step&lt;/h3&gt;

&lt;p&gt;The script ''publish_build.sh'' is called. It copies the build on the devel update site. At every step, logs are created if a problem occurs.&lt;/p&gt;

&lt;h1&gt;Automatic Deployment and Installation&lt;/h1&gt;

&lt;h2&gt;Internal update-site&lt;/h2&gt;

&lt;p&gt;The steps to produce and get an internal build are as follows:
* build process&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* A nightly build at 2am is automatically performed by Hudson integration management tool.
* The build may be manually be performed by running :
    * go to http://stager:8080/, select the job into the job list, and run an new build
    * run (as root) java -jar Build.jar
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;update-site:

&lt;ul&gt;
&lt;li&gt;An update-site under apache has been set-up on the &quot;stager&quot; machine in the /var/www/share/SIDE/Update-Site directory. Note:

&lt;ul&gt;
&lt;li&gt;The apache web server is installed under /usr/sbin/apache2.&lt;/li&gt;
&lt;li&gt;It can be started through /etc/init.d/apache2 start|stop|restart.&lt;/li&gt;
&lt;li&gt;Its configuration is defined under /etc/apache2/apache2.conf.&lt;/li&gt;
&lt;li&gt;Logs are under /var/log/apache2.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The update-site address is &quot;http://stager/share/Update-Site/SIDE-Alfresco/Ankle/&quot;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;External protected update-site&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;build is copied from the local update-site site (on stager) to www.bluexml.com:/data/www/virtuals/b/l/u/bluexml.com/www/html/static/update-site/SIDE/

&lt;ul&gt;
&lt;li&gt;A logging is required -&gt; login and password of the internal wiki&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;the transfert is made by the script ''publish_build.sh'' (It's available on the svn into the folder ''config'' of the ''com.bluexml.side.Integration.buildHudson'' project

&lt;ul&gt;
&lt;li&gt;the script is launched by Hudson&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The external update-site adresse is &quot;http://www.bluexml.com/update-site/SIDE/devel/&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Public update-site&lt;/h2&gt;

&lt;p&gt;Update sites are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;for SIDE-Alfresco: www.bluexml.com/SIDE-Alfresco/2.0/update-site&lt;/li&gt;
&lt;li&gt;for SIDE-Labs: http://www.side-labs.org/SIDE-Labs/2.0/update-site&lt;/li&gt;
&lt;li&gt;the update-site are on pipin.bluexml.com where the structure is always:

&lt;ul&gt;
&lt;li&gt;/var/www/pipin/html/SIDE-[Alfresco | Labs]/2.0/[ext &amp;amp; models &amp;amp; update-site &amp;amp; doc &amp;amp; upgrade &amp;amp; package ] with :

&lt;ul&gt;
&lt;li&gt;'ext' containing framework extension war&lt;/li&gt;
&lt;li&gt;'models' containing SIDE application samples&lt;/li&gt;
&lt;li&gt;'update-site' containing the update site of the release&lt;/li&gt;
&lt;li&gt;'doc' containing the doc of the release&lt;/li&gt;
&lt;li&gt;'upgrade' containing the transformations necessary to pass models from a previous release to this release&lt;/li&gt;
&lt;li&gt;'package' containing the package like RCP which are available to download.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Automatic Test&lt;/h1&gt;

&lt;p&gt;Test is a part of a new Job under Hudson, this Job is called ''Test_S-IDE'' and is runned at the end of ''Build_S-IDE''.&lt;/p&gt;

&lt;p&gt;If the previous job (Build_S-IDE) crashed, tests will not been performed.&lt;/p&gt;

&lt;h2&gt;Acceleo templates testing&lt;/h2&gt;

&lt;p&gt;To make a Product (a product is a standalone application which allows the execution of Acceleo templates) you need to have an Eclipse on windows.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Select project(s) you want to run.&lt;/li&gt;
&lt;li&gt;Export -&gt; Acceleo -&gt; Exporter sous forme de produit indpendant de Eclipse don't use the default location, put a path and copy it. Keep the same path for the destination path.&lt;/li&gt;
&lt;li&gt;Do the same on the Eclipse in Stager if an error occur, see the log, maybe a build.properties file is missing -&gt; copy/past the file from an other generated project.&lt;/li&gt;
&lt;li&gt;Copy the folder 'acceleo' (in the path you select below) and past it on the folder under Stager.&lt;/li&gt;
&lt;li&gt;Put the Model into the folder 'model' and modify the property 'model' on acceleo.ini&lt;/li&gt;
&lt;li&gt;Give rights for all generated files.&lt;/li&gt;
&lt;li&gt;Done !&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If you want to add new templates for a Generator (for example Class) just put it in the acceleo.ini. (the new template will be automaticaly load with the Hudson Upadte)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;After the first generation, you will have to change manually the acceleo.ini if a template is added/deleted/modified.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;SIDE Deployer and Generator testing&lt;/h2&gt;

&lt;p&gt;The goal is to automatically test SIDE generators and deployers by providing an application model describing a specific generation path; this implies to use the Eclipse environment without launching Eclipse.&lt;/p&gt;

&lt;h3&gt;Create a standalone plugin:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Implement ''IApplication'' on the class you want to make runnable without launching Eclipse. Then, You have to implement 2 methods ''start'' and ''stop'':

&lt;ul&gt;
&lt;li&gt;''start'' is the same as the ''main'' class. This class must return an Object (''EXIT_OK'' on success and ''EXIT_ERROR'' on error)&lt;/li&gt;
&lt;li&gt;''stop'' keep it blank.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now, you have to edit (with eclipse is easier) the MANIFEST.MF file and to give an ''ID'' to your plugin: this ''ID'' will be used during plugin launch step as '''PLUGIN_ID'''.&lt;/p&gt;

&lt;p&gt;In the MANIFEST file, the ''Extensions'' tab must be configured:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Add a new extention

&lt;ul&gt;
&lt;li&gt;Select ''org.eclipse.core.runtime.applications'' as the extension points&lt;/li&gt;
&lt;li&gt;Put an Explicit ID to the ''org.eclipse.core.runtime.applications'' refered as '''APPLICATION_ID'''&lt;/li&gt;
&lt;li&gt;On the sub class ''application'', put all the option blank (''visible'', ''cardinality'' and ''thread'')&lt;/li&gt;
&lt;li&gt;Do a right click on the sub class ''application'' -&gt; new -&gt; run&lt;/li&gt;
&lt;li&gt;And now, select the class you want to launch&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Done!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For SIDE, we directly work on an application model which contains a list of models and generators/deployers to test; the corresponding standalone plugin is: '''com.bluexml.side.Integration.standAlone project'''&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This plugin has 2 classes: '''Application''' and '''Generate''':&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;'''Application''' is the main class with a ''start'' method which call the methods of ''Generate'' class.
*''Generate'' is similar to com.bluexml.side.application.ui.action.utils.Generate class without the IHM.

&lt;ul&gt;
&lt;li&gt; The ''Generate'' construtor has now the ''.application'' model file as parameters and extracts the generation options
** Then, run() is called, and executes the generation process.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Export the standalone plugin&lt;/h3&gt;

&lt;p&gt;Export it into a jar file:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;On the standalone plugin, do a right click on it and select ''export'' -&gt; Java -&gt;  JAR file.&lt;/li&gt;
&lt;li&gt;Select the MANIFEST.MF file that you made bellow and export the standalone plugin into the ''plugins'' folder of your Eclipse.&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Launch the standalone plugin&lt;/h3&gt;

&lt;p&gt;Launch it using the ''org.eclipse.equinox.launcher_1.0.101.R34x_v20081125.jar'' (the version number may change depending on your Eclipse version):&lt;/p&gt;

&lt;p&gt;To launch a standalone plugin with Eclipse, type the following line in a terminal:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -jar &quot;path/to/eclipse/plugins/org.eclipse.equinox.launcher_1.0.101.R34x_v20081125.jar&quot; -application '''PLUGIN_ID'''.'''APPLICATION_ID''' -data &quot;path/to/the/workspace&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To launch SIDE, type:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -jar &quot;path/to/eclipse/plugins/org.eclipse.equinox.launcher_1.0.101.R34x_v20081125.jar&quot; -application com.bluexml.side.Integration.standAlone.application -data &quot;path/to/the/workspace&quot; myApplication.application
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -jar &quot;C:/eclipse-3.4.2-a-jour/eclipse-3.4.2-a-jour/eclipse/plugins/org.eclipse.equinox.launcher_1.0.101.R34x_v20081125.jar&quot; -application com.bluexml.side.Integration.standAlone.application -data &quot;C:/workspaceStandAlone&quot; myApplication.application
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Misc&lt;/h1&gt;

&lt;h2&gt;Packaging &amp;amp; Shipping&lt;/h2&gt;

&lt;p&gt;Installer
Public update-site&lt;/p&gt;

&lt;h2&gt;Useful  Applications&lt;/h2&gt;

&lt;h3&gt;CleanEclipse&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;You can find the CleanEclipse.jar on the [http://www.bluexml.com/update-site/SIDE/SIDE-Labs/2.0.0/ Open Source Update-Site]&lt;/li&gt;
&lt;li&gt;Or Directly the project on the SVN ''com.bluexml.side.Integration.cleanEclipse''&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This jar Clean the Eclipse of a plugin installation. For example, you may have an error during the installation of SIDE via the Update-Site if you already have an SIDE installation on your Eclipse and the Update-site has changed.&lt;/p&gt;

&lt;p&gt;To correct this:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;On eclipse, go to ''Help''-&gt;''Software Updates''-&gt;''Installed Software'' and ''Uninstall'' all SIDE plugins&lt;/li&gt;
&lt;li&gt;Then, open a terminal and do this:
java -jar CleanEclipse.jar ''path/to/your/eclipse''&lt;/li&gt;
&lt;li&gt;This will clean Eclipse from SIDE installation&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can use this application to clean other project, for example, you wants to clean eclipse of ''Acceleo'' installation, do this:
* Uninstall acceleo plugins of your eclipse
* Then, open a terminal and do this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java -jar CleanEclipse.jar &quot;path/to/your/eclipse acceleo&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For the project name, the application is not case sensitive.&lt;/p&gt;

&lt;h3&gt;Open Source Publication&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;You can find this project on the SVN ''com.bluexml.side.Integration.openSourcePublication''&lt;/li&gt;
&lt;/ul&gt;


&lt;h4&gt;License text&lt;/h4&gt;

&lt;p&gt;This project has in input the path to a folder (for example a copy of the SVN) and the project with, at the beginning of each file, a license text.&lt;/p&gt;

&lt;p&gt;The license text is part of the project and is named ''LICENSE-notices''&lt;/p&gt;

&lt;p&gt;comment.properties has this form:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java#multi,/*,*/
xml#multi,&amp;lt;!--,--&amp;gt;
properties#mono,#
mt#multi,&amp;lt;%--,--%&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;These properties give the right comment tag for each type of file. For example :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;java#multi,/*,*/  -&amp;gt; /*
                     License
                     text
                       */

 properties#mono,# -&amp;gt; #License
                       #text
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Where:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;multi: the comment tag is multi-line like xml or java&lt;/li&gt;
&lt;li&gt;mono: the comment tag is for each line, like properties files&lt;/li&gt;
&lt;/ul&gt;


&lt;h4&gt;Open Source Publication Steps&lt;/h4&gt;

&lt;p&gt;The different publication steps for the open source SIDE projects are:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;The projects are checkout from the svn http://www.bluexml.com/svn/private/S-IDE/&lt;/li&gt;
&lt;li&gt;All the folder &quot;.svn&quot; are delete from the chekout projects.&lt;/li&gt;
&lt;li&gt;Licenses are add in every file of the checkout projects.&lt;/li&gt;
&lt;li&gt;The security project is deleted and every reference to it are deleted too.&lt;/li&gt;
&lt;li&gt;In the open source svn http://www.bluexml.com/svn/bluexml/SIDE-Labs/trunk/, every project are deleted except the folder called &quot;README&quot;&lt;/li&gt;
&lt;li&gt;The new S-IDE projects are committed into the Open source svn.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Step 1 to 4 are done by the hudson job called Build_SIDE_Labs. The new S-IDE source can be found at pipin in /var/opt/hudson/jobs/Build_SIDE_Labs/buildAuto/Ankle/repositoryCopy.&lt;/p&gt;

&lt;h1&gt;Maven deploy&lt;/h1&gt;

&lt;h2&gt;Configuring Hudson&lt;/h2&gt;

&lt;p&gt;In Manage hudson / Configure System, in the maven part set the following values:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;name: maven2&lt;/li&gt;
&lt;li&gt;MAVEN_HOME: /usr/share/maven2&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Maven Job&lt;/h2&gt;

&lt;p&gt;The hudson's job called &quot;superpom&quot; check in the svn if there is update of the project &quot;superpom&quot;. The project &quot;superpom&quot; will be copied in /root/.hudson/jobs/superpom/workspace/.&lt;/p&gt;

&lt;p&gt;The maven deploy job is included in the hudon's job called &quot;Build_S-IDE&quot;.&lt;/p&gt;

&lt;p&gt;This is the script for maven deploy:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cp /home/stager/buildAuto/Ankle/delete_folder.pl /home/stager/buildAuto/Ankle/maven_workspace
cd /home/stager/buildAuto/Ankle/maven_workspace
perl delete_folder.pl pom.xml
cp /root/.hudson/jobs/superpom/workspace/superpom/pom.xml .
perl -pi -le 'print &quot;&amp;lt;modules&amp;gt;&quot; if $. ## 12' pom.xml
perl -pi -le 'print &quot;&amp;lt;/modules&amp;gt;&quot; if $. ## 13' pom.xml
for s in `ls -d */ `; do
    repertoire#$s
    name#`expr match &quot;$repertoire&quot; '\([a-zA-Z0-9.]*\)'`
    res#&quot;&amp;lt;module&amp;gt;$name&amp;lt;/module&amp;gt;&quot;
     perl -pi -le 'print &quot;'$res'&quot; if $. ## 13' pom.xml
 done
mvn clean deploy -e -P lan
rm -rf /home/stager/buildAuto/Ankle/maven_workspace
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The folder &quot;maven_workspace&quot; is used for the maven job.&lt;/p&gt;

&lt;p&gt;Explanations:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;line 1: a perl script is copied into the folder maven_workspace.&lt;/li&gt;
&lt;li&gt;line 3: the perl script delete the folder which don't include a file &quot;pom.xml&quot;.&lt;/li&gt;
&lt;li&gt;line 4: the file pom.xml of the project &quot;superpom&quot; is copied into the folder maven_workspace.&lt;/li&gt;
&lt;li&gt;line 5 and 6: the tags &quot;&lt;modules&gt;&quot; and &lt;/modules&gt; are added into the file pom.xml.&lt;/li&gt;
&lt;li&gt;line 7 to 12: each name folder includes in the folder maven_workspace are added as module in the file pom.xml.&lt;/li&gt;
&lt;li&gt;line 13: launch the maven deploy.&lt;/li&gt;
&lt;li&gt;line 14: delete the folder maven_workspace.&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Error&lt;/h2&gt;

&lt;p&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Error deploying artifact: Resource to deploy not found: File: http://192.168.49.18:8081/nexus/content/repositories/SIDE-lan-releases/org/bluexml/superpom/1.8/superpom-1.8.pom does not exist
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:583)
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:499)
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:478)
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:330)
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:291)
  at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:142)
  at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:336)
  at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:129)
  at org.apache.maven.cli.MavenCli.main(MavenCli.java:287)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:585)
  at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
  at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
  at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
  at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
 Caused by: org.apache.maven.plugin.MojoExecutionException: Error deploying artifact: Resource to deploy not found: File: http://192.168.49.18:8081/nexus/content/repositories/SIDE-lan-releases/org/bluexml/superpom/1.8/superpom-1.8.pom does not exist&lt;/p&gt;

&lt;p&gt;This error occurs when the repertory name has changed. We need to check if the file pom.xml in the project &quot;superpom&quot; has being changed.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How To make an "RCP" Eclipse based</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2010/03/02/side-product"/>
   <updated>2010-03-02T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2010/03/02/side-product</id>
   <content type="html">&lt;h1&gt;Goal&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Includes your custom plug-ins in a minimal Eclipse based product&lt;/li&gt;
&lt;li&gt;Add capability to update your plug-ins from an update site&lt;/li&gt;
&lt;li&gt;Make RCP for windows, linux and Mac in headless mode.&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;The product&lt;/h1&gt;

&lt;p&gt;Eclipse PDE can use an .product file to build a complete custom RCP.&lt;br/&gt;
This file define plug-ins to includes and some configuration like splash screen application icons and more.&lt;/p&gt;

&lt;p&gt;So create new plug-in project to define branding elements.
Create a .product file :
* Select in product definition the plug-in that include this product
* Select the application to use (default Eclipse is org.eclipse.ui.ide.workbench)
* Select 'The product configuration is based on' : plug-ins
* Go to dependencies tab&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* Add all your custom plug-ins, and click on 'add Required Plug-ins', this search through &amp;amp;nbsp;plug-ins to list all direct and transitive dependencies.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then you can test your product using PDE button &quot;launch Eclipse Application.&lt;/p&gt;

&lt;p&gt;If all is fine you can go to next step.&lt;/p&gt;

&lt;h1&gt;Make an RCP that can be updated&lt;/h1&gt;

&lt;p&gt;The Eclipse update manager use features so your product must be based to features.&lt;/p&gt;

&lt;h2&gt;Make feature for dependencies&lt;/h2&gt;

&lt;p&gt;Take plug-ins list computed in 1) remove from them your own plug-ins, and platform dependencies.&lt;br/&gt;
Add remaining in the plug-ins tab of this feature.&lt;br/&gt;
Use &quot;compute on dependencies tab.&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;Getting this plug-ins list may be ... scary. To avoid omissions I do :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;create an xml file&lt;/li&gt;
&lt;li&gt;put all plug-ins entry found in .product after 1) done into /root/needed&lt;/li&gt;
&lt;li&gt;open platform feature and get all plug-ins and fragments entries found in included features and dependencies&lt;/li&gt;
&lt;li&gt;put all of them into /root/provided&lt;/li&gt;
&lt;li&gt;using xslt i generate another xml file that create an &amp;lt; plugin&gt; entry copying @* from /root/provided&lt;/li&gt;
&lt;li&gt;past generated &amp;lt; plugin&gt; into feature.xml file&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It's the painful part.&lt;/p&gt;

&lt;p&gt;It's also possible to directly add in the product all required dependencies:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The good news is that all plug-ins can be updated from original update site.&lt;/li&gt;
&lt;li&gt;The bad news is it's not less painful to do, and your product will be bigger.&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Make feature for your plug-ins&lt;/h2&gt;

&lt;p&gt;Simply add all your plug-ins in the feature plug-ins tab.&lt;br/&gt;
Use &quot;compute on dependencies tab.&lt;/p&gt;

&lt;h2&gt;Configure .product file&lt;/h2&gt;

&lt;p&gt;So after set your product as based on feature go in dependencies tab and add:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;org.eclipse.platform this contains all Eclipse platform dependencies and basic plug-ins&lt;/li&gt;
&lt;li&gt;&quot;your feature that includes dependencies&lt;/li&gt;
&lt;li&gt;&quot;your feature that includes your plug-ins&lt;/li&gt;
&lt;li&gt;you may create an site.xml file used to configure category when creating update site&lt;/li&gt;
&lt;li&gt;simply create site.xml using Eclipse PDE editor, create categories and includes features (dependencies feature and your own features)&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Headless Product Builder&lt;/h1&gt;

&lt;p&gt;Eclipse PDE includes tools to build products based on Ant scripts and custom task definition.&lt;/p&gt;

&lt;p&gt;Create a folder (Eclipse project why not ?) with 2 files :
* build.properties, properties file to configure PDE builder
* build.xml, ant script to launch PDE builder&lt;/p&gt;

&lt;p&gt;build.xml :&lt;/p&gt;

&lt;p&gt; &lt;project default=&quot;main&quot;&gt;
 &lt;property file=&quot;build.properties&quot; /&gt;&lt;/p&gt;

&lt;p&gt; &lt;target name=&quot;main&quot;&gt;
 &lt;!-- by default, check for deltapack co-located with eclipse --&gt;
 &lt;!-- Check that we have a deltapack --&gt;
 &lt;available property=&quot;haveDeltaPack&quot; file=&quot;${deltapack}&quot; /&gt;
 &lt;fail unless=&quot;haveDeltaPack&quot; message=&quot;The deltapack is required to build this product. Please edit buildProduct.xml or set the &amp;quot;deltapack&amp;quot; property.&quot; /&gt;&lt;/p&gt;

&lt;p&gt; &lt;property name=&quot;buildDirectory&quot; value=&quot;${builder}/buildDirectory&quot; /&gt;
 &lt;property name=&quot;pluginPath&quot; value=&quot;${sources}${path.separator}${deltapack}&quot; /&gt;
 &lt;echoproperties&gt;&lt;/echoproperties&gt;
 &lt;echo message=&quot;builder : ${eclipse.pdebuild.scripts}/productBuild/productBuild.xml&quot;&gt;&lt;/echo&gt;
 &lt;ant antfile=&quot;${eclipse.pdebuild.scripts}/productBuild/productBuild.xml&quot; /&gt;&lt;/p&gt;

&lt;p&gt; &lt;mkdir dir=&quot;${distros}&quot; /&gt;
 &lt;move todir=&quot;${distros}&quot; overwrite=&quot;true&quot; verbose=&quot;true&quot;&gt;
 &lt;fileset dir=&quot;${buildDirectory}/${buildLabel}&quot;&gt;
 &lt;include name=&quot;*.zip&quot;/&gt;
 &lt;include name=&quot;*.tar.gz&quot;/&gt;
 &lt;/fileset&gt;
 &lt;/move&gt;
 &lt;/target&gt;&lt;/p&gt;

&lt;p&gt; &lt;target name=&quot;pde-build&quot;&gt;
 &lt;echo message=&quot;launcher path :${baseLocation}/plugins/org.eclipse.equinox.launcher_${equinoxLauncherPluginVersion}.jar&quot;&gt;&lt;/echo&gt;
 &lt;delete file=&quot;${logFile}&quot; failonerror=&quot;false&quot;/&gt;
 &lt;record name=&quot;${logFile}&quot; loglevel=&quot;debug&quot; action=&quot;start&quot; /&gt;
 &lt;java fork=&quot;true&quot; failonerror=&quot;true&quot; jar=&quot;${baseLocation}/plugins/org.eclipse.equinox.launcher_${equinoxLauncherPluginVersion}.jar&quot;&gt;
 &lt;arg value=&quot;-Xmx512m&quot; /&gt;
 &lt;arg value=&quot;-Xms512m&quot; /&gt;
 &lt;arg value=&quot;-application&quot; /&gt;
 &lt;arg value=&quot;org.eclipse.ant.core.antRunner&quot; /&gt;
 &lt;arg value=&quot;-buildfile&quot; /&gt;
 &lt;arg value=&quot;build.xml&quot; /&gt;
 &lt;arg value=&quot;-Dtimestamp=${timestamp}&quot; /&gt;
 &lt;classpath&gt;
 &lt;pathelement location=&quot;${baseLocation}/plugins/org.eclipse.equinox.launcher_${equinoxLauncherPluginVersion}.jar&quot; /&gt;
 &lt;/classpath&gt;
 &lt;/java&gt;
 &lt;record name=&quot;${logFile}&quot; action=&quot;stop&quot; /&gt;
 &lt;/target&gt;
 &lt;/project&gt;&lt;/p&gt;

&lt;p&gt;But configuration properties must be set according with your project. See 3-2&lt;/p&gt;

&lt;h2&gt;Prepare resources&lt;/h2&gt;

&lt;p&gt;Sources:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Create &quot;sources folder where you create, a &quot;plugins folder and a &quot;features folder.&lt;/li&gt;
&lt;li&gt;Copy your plug-ins project in &quot;plugins, and your feature into &quot;features.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Eclipse builder:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Copy an Eclipse that you used to develop yours plug-ins project (so it contains installed dependencies used to compile yours projects)&lt;/li&gt;
&lt;li&gt;Unpack deltapack archive into &amp;lt; eclipse.home&gt;/deltapack folder, this is used to build RCP for other system, see [http://download.eclipse.org/eclipse/downloads/ http://download.eclipse.org/eclipse/downloads/] select your eclipse version and search for deltapack.&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Setup PDE&lt;/h2&gt;

&lt;p&gt;Create build.properties by copying from example and replace all &amp;lt; .. &gt; by your values&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;###############################################################################
# Copyright (c) 2003, 2006 IBM Corporation and others.
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the Eclipse Public License v1.0
# which accompanies this distribution, and is available at
# http://www.eclipse.org/legal/epl-v10.html
#
# Contributors:
# IBM Corporation - initial API and implementation ###############################################################################

## builder paths ##
#builder=&amp;lt;workingFolder&amp;gt;
#example builder=/Users/davidabad/Workspace2.0/test/PDE_builder
baseLocation=${builder}/eclipse
# version can be found in ${baseLocation}/plugins/org.eclipse.equinox.launcher_...
equinoxLauncherPluginVersion=&amp;lt;versionNum&amp;gt;
#example equinoxLauncherPluginVersion=1.0.201.R35x_v20090715
deltapack=${baseLocation}/deltapack/eclipse
sources=${builder}/sources
distros=${builder}/dist
logFile=build_pde-build_debug.log
## config ##
launcherName=&amp;lt;myProduct&amp;gt;
# The prefix that will be used in the generated archive.
archivePrefix=&amp;lt;MyProduct&amp;gt;
# ID of the build. Used in naming the build output.
buildId=&amp;lt;MyProduct&amp;gt;
# configuration to have dependencies resolution working as plugins product based
filteredDependencyCheck=false
flattenDependencies=true
parallelCompilation=false
product=${sources}/&amp;lt;branding.plug-insPath&amp;gt;/&amp;lt;MyProduct&amp;gt;.product
#example product=${sources}/plugins/com.bluexml.side.Integration.eclipse.branding/side.product
runPackager=true
p2.gathering=true
p2.metadata.repo=file:${builder}/repository
p2.artifact.repo=file:${builder}/repository
p2.category.site=file://${sources}/&amp;lt;branding.plug-insPath&amp;gt;/site.xml
#example p2.category.site=file:///Users/davidabad/Workspace2.0/S-IDE/Integration/trunk/com.bluexml.side.Integration.buildHudson/config/site.xml
# The location underwhich all of the build output will be collected.
collectingFolder=${archivePrefix}
# The list of {os, ws, arch} configurations to build. This
# value is a '&amp;amp;' separated list of ',' separate triples. For example,
# configs=win32,win32,x86 &amp;amp; linux,motif,x86
# By default the value is *,*,*
#configs = win32, win32, x86
#configs=win32, win32, x86 &amp;amp; \
#linux, gtk, ppc &amp;amp;\
# linux, gtk, x86 &amp;amp; \
#linux, gtk, x86_64 &amp;amp; \
#linux, motif, x86 &amp;amp; \
#solaris, motif, sparc &amp;amp; \
#solaris, gtk, sparc &amp;amp; \
#aix, motif, ppc &amp;amp; \
#hpux, motif, PA_RISC &amp;amp; \
#macosx, carbon, ppc
configs=linux, gtk, x86 &amp;amp; \
win32, win32, x86 &amp;amp; \
macosx, carbon, x86
# By default PDE creates one archive (result) per entry listed in the configs property.
# Setting this value to try will cause PDE to only create one output containing all
# artifacts for all the platforms listed in the configs property.
#groupConfigurations=true
#Allow cycles involving at most one bundle that needs to be compiled with the rest being binary bundles.
#allowBinaryCycles = true
# Type of build. Used in naming the build output. Typically this value is
# one of I, N, M, S, ...
buildType
# Label for the build. Used in naming the build output
buildLabel=${buildType}.${buildId}
# Timestamp for the build. Used in naming the build output
timestamp=007
#this property indicates whether the resolution should be done in development mode (i.e. ignore multiple bundles with singletons)
#resolution.devMode=false
skipBase=true
skipMaps=true
skipFetch=true
############# JAVA COMPILER OPTIONS ##############
# For this example:
# We specify the JRE locations for CDC-1.1/Foundation-1.1 and J2SE-1.5
# because these are the required execution environments defined for the
# bundles in the example.
# The location of the Java jars to compile against. Typically the rt.jar for your JDK/JRE
#bootclasspath=${java.home}/lib/rt.jar
# If using an IBM VM, use
#bootclasspath=${java.home}/lib/core.jar;${java.home}/lib/vm.jar
# specific JRE locations to compile against. These values are used to compile bundles specifying a
# Bundle-RequiredExecutionEnvironment. Uncomment and set values for environments that you support
#CDC-1.0/Foundation-1.0= /path/to/rt.jar
#CDC-1.1/Foundation-1.1=${java.home}/lib/rt.jar
#OSGi/Minimum-1.0=
#OSGi/Minimum-1.1=
#JRE-1.1=
#J2SE-1.2=
#J2SE-1.3=
#J2SE-1.4=
#J2SE-1.5=${java.home}/lib/rt.jar:${java.home}/lib/jce.jar
#JavaSE-1.6=${java.home}/lib/rt.jar:${java.home}/lib/jce.jar
#PersonalJava-1.1=
#PersonalJava-1.2=
#CDC-1.0/PersonalBasis-1.0=
#CDC-1.0/PersonalJava-1.0=
#CDC-1.1/PersonalBasis-1.1=
#CDC-1.1/PersonalJava-1.1=
# Specify the output format of the compiler log when eclipse jdt is used
logExtension=.log
# Whether or not to include debug info in the output jars
javacDebugInfo=true
# Whether or not to fail the build if there are compiler errors
javacFailOnError=true
# Enable or disable verbose mode of the compiler
javacVerbose=true
# Extra arguments for the compiler. These are specific to the java compiler being used.
#compilerArg=
# Default value for the version of the source code. This value is used when compiling plug-ins that do not set the Bundle-RequiredExecutionEnvironment or set javacSource in build.properties
javacSource=1.5
# Default value for the version of the byte code targeted. This value is used when compiling plug-ins that do not set the Bundle-RequiredExecutionEnvironment or set javacTarget in build.properties.
javacTarget=1.5
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;Launch Build&lt;/h1&gt;

&lt;p&gt;Now resources have been copied, properties sets ...&lt;/p&gt;

&lt;p&gt;Ok boy let's Rock !&lt;/p&gt;

&lt;p&gt;Open terminal in directory where build.properties and build.xml is.&lt;/p&gt;

&lt;p&gt;Launch building by typing :&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;ant pde-build&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;wait and see.&lt;/p&gt;

&lt;p&gt;At the end your products builds can be found in &quot;dist folder and the update site in &quot;repository.&lt;/p&gt;

&lt;p&gt;This update site can be used to update previous built product or to install all your plug-ins on an clean simple Eclipse&lt;/p&gt;

&lt;h1&gt;Links Documentation&lt;/h1&gt;

&lt;p&gt;For more Example tuto ...
http://www.vogella.de/eclipse.html&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Alfresco Share Portal Generation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2010/01/07/alfresco-share-portal-generation"/>
   <updated>2010-01-07T00:00:00+01:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2010/01/07/alfresco-share-portal-generation</id>
   <content type="html">&lt;h1&gt;Portal MetaModel&lt;/h1&gt;

&lt;p&gt;This SIDE generator use Portal model to generate configuration files for Alfresco Share Portal.&lt;/p&gt;

&lt;h2&gt;Available features&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/MMPortal-AlfrescoShare.jpg&quot; width=&quot;750px&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;Scopes&lt;/h2&gt;

&lt;p&gt;All components are placed in the page in a &quot;region&quot;, this region have a scope that give the place where find the component declaration :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;global: site-data/components/&amp;lt; scope&gt;.&amp;lt; regionId&gt;.&amp;lt; pageId&gt;.xml&lt;/li&gt;
&lt;li&gt;page: site-data/pages/* .xml&lt;/li&gt;
&lt;li&gt;template: site-data/template-instances/&amp;lt; templateId&gt;.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Sites&lt;/h2&gt;

&lt;p&gt;A site is generated from a Portal model element&lt;/p&gt;

&lt;h2&gt;Pages&lt;/h2&gt;

&lt;h3&gt;Share pages&lt;/h3&gt;

&lt;p&gt;To include an existing share page simply give the page name as page ID :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;documentlibrary&lt;/li&gt;
&lt;li&gt;calendar&lt;/li&gt;
&lt;li&gt;wiki-page&lt;/li&gt;
&lt;li&gt;discussions-topiclist&lt;/li&gt;
&lt;li&gt;blog-postlist&lt;/li&gt;
&lt;/ul&gt;


&lt;h4&gt;Scenario through SIDE: create a new page based on documentLibrary page&lt;/h4&gt;

&lt;p&gt;Open the portal model under SIDE portal editor, then:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Load the alfresco portal model in our portal model:

&lt;ul&gt;
&lt;li&gt;If not done: Eclipse File Navigator: Import: Import SIDE Model Library: Alfresco Models X.x.y ...&lt;/li&gt;
&lt;li&gt;Load Resource...: workspace: Model-Library-Alfresco-X.x.y: portal: alfrescoSharePortal.portal&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Drag the 'documentLibrary' page from the outline under the Additional Resources: platform:/resources/Model-Library-Alfresco-X.x.y/portal/alfrescoSharePortal.portal in your diagram&lt;/li&gt;
&lt;li&gt;Copy the page and rename it 'myNewPage'&lt;/li&gt;
&lt;li&gt;Remove from the Diagram the previously dragged 'documentLibrary' page (ATTENTION: do not remove from model).&lt;/li&gt;
&lt;li&gt;Create a portlet and give a name (for instance 'myFilter'):

&lt;ul&gt;
&lt;li&gt;Object: Portlet: Properties: ID : myFilter&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Put the portlet on the page: Link: isOnPage&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;ATTENTION: you must do the following sequence:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Click on the link in red to edit its properties&lt;/li&gt;
&lt;li&gt;Click on 'Ok'&lt;/li&gt;
&lt;li&gt;Select the new link.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In the outline you must be on the link in the form 'Have Portlet myFilter':&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Click on the front arrow to open it&lt;/li&gt;
&lt;li&gt;Click on 'Position Group' under the selected 'Have Portlet myFilter'&lt;/li&gt;
&lt;li&gt;In the 'onColumn' field of 'Properties' panel, click on the &quot;...&quot; button on the right&lt;/li&gt;
&lt;li&gt;Enter 'documentLibrary.alf-filters' in the search input field&lt;/li&gt;
&lt;li&gt;Select 'Column filter (documentlibrary.@templateBody.bd-alfresco-documentLibrary.alf-filters)'&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This indicates to place the portlet in the region 'alf-filters.filter' of the freemarket template of the page (by default, the template is the name of the page).&lt;/p&gt;

&lt;p&gt;As done previously on alfrescoSharePortal.portal:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Load in the portal model the model 'buildInLibraryAlfresco.portal'&lt;/li&gt;
&lt;li&gt;Drag from this buildInLibraryAlfresco.portal model the portlet Type 'StaticFilter'&lt;/li&gt;
&lt;li&gt;Add the portlet Type 'StaticFilter' on the portlet 'myFilter'
 Link: isPortalPortlet&lt;/li&gt;
&lt;li&gt;Click on the new link and enter :
scope : template
url : /components/staticFilter
config : [ {id:'metadata',label:'Tous les paraphes en cours',data:  {path: '/app:company_home/st:sites/{site}/cm:documentLibrary/cm:Saisie/* ',type:'blueparapheur:paraphe_Paraphe'}  }]&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The last parameter define a filter: through SIDE, a new filter of type 'metadata' has been defined which allow for making a more complex request than default filters.&lt;/p&gt;

&lt;p&gt;If you want a standard components just with the url of the components (like most of those defined under site-data/webscripts/org/alfresco/components/...), drag the portlet '-scope-url' under alfrescoSharePortal.portal.&lt;/p&gt;

&lt;h3&gt;Custom pages&lt;/h3&gt;

&lt;p&gt;Managed but without layout consideration&lt;/p&gt;

&lt;p&gt;TODO :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Manage layout&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Components&lt;/h2&gt;

&lt;h3&gt;Share Components&lt;/h3&gt;

&lt;p&gt;Some components can be configured :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;documentLibrary : using a portlet associated with a complex view it's possible to select witch attribtes to display, the portlet must be have id equals to documentLibrary&lt;/li&gt;
&lt;li&gt;documentDetails : in the same way than documentLibrary use a complex view on a portlet having id equals to &quot;documentDetails&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;TODO :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Portlet with id equals to share components must be managed and included in the page&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Generated Components&lt;/h3&gt;

&lt;p&gt;see [[Generated Portlets|SHARE_GENERATED_PORTLETS]]&lt;/p&gt;

&lt;h3&gt;SIDE Components and extended components&lt;/h3&gt;

&lt;p&gt;see [[SIDE Portlets|SHARE_SIDE_PORTLETS]]&lt;/p&gt;

&lt;h2&gt;Dashlets&lt;/h2&gt;

&lt;h3&gt;Generated Dashlets&lt;/h3&gt;

&lt;p&gt;TODO :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;For externals can be implemented with iframe&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Exemple : Digitization Process&lt;/h1&gt;

&lt;p&gt;This example can be downloaded here :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://www.bluexml.com/svn/private/S-IDE/Extension/ApplicationExamples/trunk/DigitizationProcess&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;Replace/configure existing pages and components&lt;/h2&gt;

&lt;p&gt;[[image:DigitizationProcessPortal.jpg]]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Test Data Generator</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/10/21/data-generator"/>
   <updated>2009-10-21T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/10/21/data-generator</id>
   <content type="html">&lt;h1&gt;Principe de fonctionnement&lt;/h1&gt;

&lt;p&gt;Un modèle conçu et déployé via SIDE étant donné en entrée, ce module se charge de l'instancier en y introduisant des données (remplir les valeurs des attributs d'un type, ...). Cette instanciation est &quot;packagée&quot; au sein d'un Alfresco Content Package (fichier d'extension .acp) qui est ensuite déployé sous Alfresco.&lt;/p&gt;

&lt;h1&gt;Fonctionnalités actuelles et limitations&lt;/h1&gt;

&lt;p&gt;Le module supporte les diagrammes possédant les caractéristiques suivantes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;associations &quot;générales&quot; 1-N, N-1, N-N et 1-1&lt;/li&gt;
&lt;li&gt;l'association spécifique qu'est la composition (à ce sujet d'ailleurs, si à la fin de la génération vous constatez qu'il semble vous manquer des &quot;contenus&quot;, cela est sûrement du au fait qu'un ou plusieurs &quot;pères&quot; (ou &quot;sources&quot;) d'une ou plusieurs compositions n'ont pas été aléatoirement créés; les &quot;fils&quot; (ou &quot;cibles&quot;) de ces compositions ont donc été éliminés pour respecter la sémantique de l'association qu'est la composition&lt;/li&gt;
&lt;li&gt;l'héritage (propagation des attributs)&lt;/li&gt;
&lt;li&gt;les aspects&lt;/li&gt;
&lt;li&gt;les énumérations&lt;/li&gt;
&lt;li&gt;les classes abstraites au sens où elles ne seront pas instanciées en tant que telles (mais s'il y a héritage, l'information qu'elles portent sera propagée)
La limitation se porte au niveaux des agrégations (et des classes d'association?)&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Architecture&lt;/h1&gt;

&lt;p&gt;Le module fait appel à deux webscripts dont le coeur métier est programmé en Java.
Ce programme est découpé en neuf packages:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.structure:
ce dernier représente le bean contenant la structure du modèle (types, associations, ...)&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.dictionary:
c'est ce dernier qui récupère les informations structurelles du modèle et &quot;remplit&quot; le bean structure&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.generator:
il constitue le coeur de l'application et a pour rôle de générer aléatoirement des données en relation avec la structure du modèle.
Ce travail s'effectue en créant des instances du modèle (cf point suivant)&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.graph
l'instanciation du modèle s'apparente à la mise en place d'un graphe où les noeuds représentent les instances de type et les arcs les instances   d'associations. Ce package représente la définition de ces derniers.&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.data
l'instanciation effetuée par le générateur &quot;remplit&quot; ce bean contenant toutes les instances du modèle&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.serialization.mapping
les beans datas et structure lui sont envoyés et un mapping est réalisé pour créer le fichier .xml contenant les directives de création des objets au sein de l'ACP: le bean structure est &quot;mappé&quot; avec le squelette du xml et le bean datas avec les données au sein du squelette&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.serialization:
il contient le &quot;main&quot; du mapping et la méthode pour packager l'ACP&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.load:
contient les méthodes pour déployer automatiquement le .acp généré dans Alfresco et assurer sa sauvegarde&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.context:
nécessaire pour retrouver le contexte Spring d'Alfresco et d'ainsi récupérer les instances de bean&lt;/li&gt;
&lt;li&gt;com.bluexml.side.Framework.alfresco.dataGenerator.webscript
représente les deux méthodes appelées par les deux webscripts: une première se charge de paramétrer le générateur et un second de générer l'ACP.&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Mise en place locale (configuration)&lt;/h1&gt;

&lt;p&gt;On suppose l'utilisation d'Eclipse Ganymède avec une compilation en 1.5.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Faire un checkout du projet à partir du répertoire S_IDE/FrameworksModules/trunk/com.bluexml.side.framework.alfresco.datasGenerator du SVN&lt;/li&gt;
&lt;li&gt;DAns le Build Path du projet, modifier la variable M2_REPO en indiquant le chemin vers le .m2/repository/com de votre propre répertoire Maven (ceci suppose que vous ayez &quot;installé&quot; le superpom (cf création d'un AMP)&lt;/li&gt;
&lt;li&gt;Pour le développement, indiquer respectivement dans le build.properties les chemins menant au répertoire tomcat de votre Alfresco ainsi que celui menant à votre exécutable maven&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Utilisation&lt;/h1&gt;

&lt;p&gt;Une fois le projet configuré, créez un modèle via SIDE respectant les caractéristiques exposées dans &quot;Fonctionnalités et limitations&quot;. Attention, ce dernier doit posséder un nom explicite au niveau du premier package (ne prenez pas &quot;org&quot; car c'est cet identifiant qui va nous servir dans la suite pour choisir le modèle pour lequel on veut générer des données de test).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Générer et déployer ce modèle en cochant l'option &quot;Alfresco Random Data Generator&quot; dans l'onglet génération (ne cochez pas l'option concernant le module sql car ce dernier provoque à l'heure actuelle une exception bloquante au déploiement de l'ACP)&lt;/li&gt;
&lt;li&gt;Lancer Alfresco&lt;/li&gt;
&lt;li&gt;Appeler le service de paramétrage du générateur à l'adresse :

&lt;ul&gt;
&lt;li&gt;http:/localhost:8080/alfresco/service/data/form/fillparameters&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Dans la page qui s'affiche :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Choisir le modèle voulu (grâce à l'identifiant sus-cité) :

&lt;ul&gt;
&lt;li&gt;Indiquer le nombre d'objets à créer tous types confondus ;&lt;/li&gt;
&lt;li&gt;Inidquer le nombre maximum d'instances d'associations par objet ;&lt;/li&gt;
&lt;li&gt;Indiquer également, en respectant la syntaxe XPath d'Alfresco, le chemin vers le répertoire souhaité pour contenir le .acp et les instances générées ;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cliquer sur generate : le message Succeeded Generation doit apparaître ;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Si c'est le cas, aller sur le web-client d'Alfresco en tant qu'administrateur (admin/admin) : les instances créées et le .acp doivent se trouver dans le répertoire indiqué précédemment.&lt;/p&gt;

&lt;p&gt;  Remarque: si vous choisissez toujours le même répertoire pour déployer, ce dernier est &quot;nettoyé&quot; pour recevoir les nouveaux contenus (i.e. les anciens contenus et .acp sont effacés)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Développement&lt;/h1&gt;

&lt;p&gt;Après toute modification (code Java, webscript), faire un patchWebapps contenu dans le build.xml; ceci déploie directement le module au sein d'Alfresco&lt;/p&gt;

&lt;p&gt;Ne relancez le serveur Alfresco que pour toute intervention sur le code Java ou sur le contenu de déclaration des beans (service-context.xml)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Eclipse Installation</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-dabad/2009/09/15/side-installation"/>
   <updated>2009-09-15T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-dabad/2009/09/15/side-installation</id>
   <content type="html">&lt;h1&gt;Download Eclipse&lt;/h1&gt;

&lt;p&gt;Get Eclipse 3.5 (galileo) Modeling:
* http://www.eclipse.org/downloads/&lt;/p&gt;

&lt;h1&gt;Install dependencies&lt;/h1&gt;

&lt;p&gt;Update site to add or enable plugins in the following to avoid dependencies errors:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://smartqvt.elibel.tm.fr&quot;&gt;SmartQVT (0.2.4+)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.acceleo.org/update&quot;&gt;Acceleo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://topcased-mm.gforge.enseeiht.fr/release/update-site3.5&quot;&gt;Topcased&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/modeling/emf/updates&quot;&gt;EMF Update Site&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/modeling/emft/updates&quot;&gt;EMFT Update Site&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/technology/epp/packages/galileo&quot;&gt;EPP Packages Repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/releases/galileo&quot;&gt;Galileo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/modeling/m2m/updates/releases&quot;&gt;Qvt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://download.eclipse.org/eclipse/updates/3.5&quot;&gt;The Eclipse Project Updates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>SIDE Internationalization</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/09/09/SIDE-internationalization"/>
   <updated>2009-09-09T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/09/09/SIDE-internationalization</id>
   <content type="html">&lt;p&gt;Afin d'internationaliser S-IDE nous utilisons un système basé sur org.eclipse.osgi.util.NLS.&lt;/p&gt;

&lt;h1&gt;Fichiers de traduction&lt;/h1&gt;

&lt;p&gt;Les fichiers de traductions seront placés dans votre projet, ils peuvent être généré automatiquement via eclipse en faisant bouton droit sur le code source puis : Source &gt; Externalize String (et en suivant les instructions).
Chaque fichier de traduction pourra être décliné en autant de langue et spécificité géographique voulue (français de Belgique, Suisse, Quebec ou France par exemple).
Par exemple pour la langue française, avec spécificité géographie à la France les fichiers possibles seront recherché dans cet ordre :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;messages_fr_FR.properties&lt;/li&gt;
&lt;li&gt;messages_fr.properties&lt;/li&gt;
&lt;li&gt;messages.properties&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Chaque ligne contiendra donc une clé et sa traduction :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ma.cle=Mon message&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Il est également possible d'y mettre des paramètres :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ma.cle2=Mon message pour {0}&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Classe commune&lt;/h1&gt;

&lt;p&gt;Une classe commune située dans le module com.bluexml.side.Util.libs et nommée Messages permet de gérer les traduction; en donnant une clé il va aller chercher la traduction correspondante pour la langue (LOCALE) de l'utilisateur (dans le sens vu plus avant).&lt;/p&gt;

&lt;h1&gt;Utilisation&lt;/h1&gt;

&lt;p&gt;Cette classe doit être instanciée une fois par plug-in, pour cela dans la classe Activator de votre plugin ajouter cette ligne en la personnalisant :
 public static final Messages Messages = new Messages(PLUGIN_ID, &quot;com.bluexml.side.application.ui.action.messages&quot;);
Le second argument est le path vers vos fichier de properties.&lt;/p&gt;

&lt;p&gt;Ensuite dans les classe de ce plugin vous pouvez appellez vos méthode ainsi :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sans paramètre :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Activator.Messages.getString(&quot;ma.cle&quot;);&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avec un paramètre :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Activator.Messages.getString(&quot;ma.cle2&quot;,MonObjet.getMonAttribut());&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avec plusieurs paramètres :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Activator.Messages.getString(&quot;ma.cle3&quot;,new Object[] {MonObjet.getMonAttribut(),MonObject.getMonAutreAttribut()});&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Génération de la documentation de l'application avec SIDE</title>
   <link href="http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/08/14/application-documentation-generation-with-SIDE"/>
   <updated>2009-08-14T00:00:00+02:00</updated>
   <id>http://www.bluexml.com/blogs/blogs/blog-lchevalier/2009/08/14/application-documentation-generation-with-SIDE</id>
   <content type="html">&lt;p&gt;Une documentation de chaque modèle de donnée S-IDE peut être générée automatiquement avec S-IDE, pour cela il faut cocher la case &quot;Documentation&quot; de l'onglet génération.&lt;/p&gt;

&lt;h1&gt;Format&lt;/h1&gt;

&lt;p&gt;Le format utilisé est l'Open Document (format notamment utilisé par Open Office). Un fichier lisible par Open Office est un fichier jar (nommé en .odt) contenant :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/META-INF/manifest.mf&lt;/li&gt;
&lt;li&gt;/META-INF/manifest.xml&lt;/li&gt;
&lt;li&gt;content.xml&lt;/li&gt;
&lt;li&gt;meta.xml&lt;/li&gt;
&lt;li&gt;mimetype&lt;/li&gt;
&lt;li&gt;settings.xml&lt;/li&gt;
&lt;li&gt;styles.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;h1&gt;Génération&lt;/h1&gt;

&lt;p&gt;La génération se fait via un générateur spécifique par méta-modèle (Class, Form, Workflow, View on en déjà un par exemple) utilisant tous une base commune (le projet com.bluexml.side.Util.generator.documentation). Ce dernier permet de générer les fichiers &quot;fixes&quot; : meta.xml, mimetype, setting.xml, styles.xml. Permettant d'avoir des styles communs. Ce sont des fichiers qui bougeront peu ou de façon commune. Chaque générateur s'occupe de générer le fichier content.xml (contenant donc le texte du document, son index, ...).&lt;/p&gt;

&lt;p&gt;Une fois ces fichiers générés un jar est réalisé par le déployeur de documentation (/com.bluexml.side.Deployer.documentation). Celui ci va prendre l'ensemble des fichiers générés par modèle pour en créer un jar grâce au fichier build.xml.&lt;/p&gt;

&lt;h1&gt;Extension pour la documentation des méta-modèles&lt;/h1&gt;

&lt;p&gt;Le module com.bluexml.side.Integration.standAlone.metamodel.documentation permet la génération de la documentation des meta modèles. Il permet une extension d'application afin de pouvoir être appelé en &quot;StandAlone&quot; lors du build de verion de S-IDE.&lt;/p&gt;

&lt;p&gt;Ce module doit fournir un document opendoc (openOffice) représentant la documentation des meta modèles.&lt;/p&gt;

&lt;p&gt;Il s'inspire très fortement des precédents générateurs de documentations (classe de génération, template). Cependant, malgré le fait que les parties statiques des templates soient identiques, aucun moyen &quot;correct&quot; de les mutualiser n'a été trouvé.&lt;/p&gt;

&lt;h2&gt;Application&lt;/h2&gt;

&lt;p&gt;L'application prend en entrée 2 paramètres :&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;le chemin vers le répertoire du project eclipse contenant les meta models (* .ecore)&lt;/li&gt;
&lt;li&gt;le chemin relatif par rapport au workspace vers la target.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Il est à noter qu'il existe un parametre supplémentaire &quot;-data&quot; qui doit contenir le chemin absolu vers le worskpace à utiliser.&lt;/p&gt;

&lt;p&gt;L'application va ouvrir le worskpace, charger en tant que modèle tous les &quot;* .ecore&quot; présent dans (1). Pour chacun de ces modèles,  elle va appeler la génération avec le générateur spécifiquement développé.&lt;/p&gt;

&lt;p&gt;Le resultat est stocké dans (2)/test/doc&lt;/p&gt;

&lt;h3&gt;Générateur&lt;/h3&gt;

&lt;p&gt;Le générateur étend DocumetationGenerator mais ne reprend pas les templates communs (meta, manifest, etc..) car on ne fait pas référence ici au même metaModel que dans les templates commun.&lt;/p&gt;

&lt;h3&gt;Templates acceleo&lt;/h3&gt;

&lt;p&gt;Les templates communs ont été copiés, et pour chacune des copies seul l'import du meta Model(EMF ECORE) a été modifié.&lt;/p&gt;

&lt;p&gt;Concernant le content et content_chapter (template permettant de générer le contenu du modèle lu, les parties statiques sont identiques à celles d'autres content, et content chapter, seules les parties dynamiques ont été modifiés pour coincider avec le meta model ecore.&lt;/p&gt;

&lt;p&gt;Un service specifique a été utlisé, les fonctions natives de ecore ne permettant pas de générer la documentation aisément.&lt;/p&gt;

&lt;h3&gt;Service pour la generation&lt;/h3&gt;

&lt;p&gt;Il sagit de CustomDocumentationService.&lt;/p&gt;

&lt;p&gt;Les méthodes qui y sont définies sont appelées dans les templates. Il s'agit principalement de emthode eprmettant de récupérer le contenu des &quot;noeuds&quot; &quot;documentations&quot; et d'encoder les caractères spéciaux des contenus récupérés.&lt;/p&gt;

&lt;h3&gt;A noter&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Aucun techName, techVersion etc.. n'ayant été spécifié pour le module, celui ci renseigne chacune de ces information par &quot;test&quot;.&lt;/li&gt;
&lt;li&gt;Le temps de generation est mediocre (+1'20 par modèle) sous windows vista 32 bits edition familliale.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Pour la documentation des méta modèle, un simple template de génération peut suffire (à voir si c'est possible de travailler avec le méta-modèle ? Au pire avec des services java on peut s'en sortir facilement. Au pire, il faut générer un fichier content.xml, donc avec un template (au sens template de présentation) ça peut également se faire (mais éviter de faire du code java avec le texte dedans comme fait actuellement, niveau maintenance c'est pas évident).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://fr.wikipedia.org/wiki/OpenDocument&quot;&gt;Open Document&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 
</feed>